"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[9587],{9587:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),i=t(4942),s=t(1413),o=t(9439),c=t(7313),l=t(8467),u=t(3499),d=t(5973),f=t(244),m=t(7220),v=t(364),p=t(3709),g=t(1315),h=t(5633),y=t(2549),b=t(6417);r.default=function(){var e="/manufacturers",r=(0,l.s0)(),t=(0,c.useState)("Create"),x=(0,o.Z)(t,2),j=x[0],N=x[1],O=(0,c.useState)({id:"",name:"",sortOrder:0}),E=(0,o.Z)(O,2),w=E[0],S=E[1],Z=(0,c.useState)(!1),C=(0,o.Z)(Z,2),P=C[0],k=C[1],M=(0,c.useState)(!1),U=(0,o.Z)(M,2),D=U[0],R=U[1],G=(0,c.useState)({}),I=(0,o.Z)(G,2),T=I[0],L=I[1],J=(0,l.UO)(),X=(0,c.useRef)(!0),q=(0,g.C)((function(e){return[e.manufacturers.manufacturer,e.manufacturers.isFetching,e.manufacturers.isError,e.manufacturers.manufacturers]}),p.wU),F=(0,o.Z)(q,4),V=F[0],K=F[1],_=F[2],z=F[3],A=(0,g.T)();(0,c.useEffect)((function(){if(X.current&&(X.current=!1,"edit"===J.mode)){N("Edit");var e=J.id;e&&A(h.OK.getManufacturerById(e))}}),[J,A]),(0,c.useEffect)((function(){"edit"!==J.mode||w.id===(null===V||void 0===V?void 0:V.id)||K||_||S(V)}),[J,w,V,K,_]);var B=(0,c.useCallback)((function(e){var r=!0;return 0===w.id.length?z.find((function(r){var t;return(null===(t=r.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(r=!1):z.find((function(r){var t;return(null===(t=r.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&r.id!==w.id}))&&(r=!1),r}),[w.id,z]);(0,c.useEffect)((function(){if(P){for(var e=!0,r=0,t=Object.entries(w);r<t.length;r++){var n=(0,o.Z)(t[r],2),a=n[0],i=n[1];if("id"!==a)if("string"===typeof i){if(0===(null===i||void 0===i?void 0:i.trim().length)){e=!1;break}}else if("number"===typeof i&&(i||0)<0){e=!1;break}}R(e&&B(w.name||""))}}),[P,w,B]);var Y=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Edit"!==j&&(w.id=(0,y.Z)()),A(h.OK.updateManufacturer(w)),setTimeout((function(){A(h.OK.getManufacturers())}),300),r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"caption",children:["Manufacturer: ",j]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Manufacturer"})})}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"ManufacturerName",children:["Manufacturer Name ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(m.o,{id:"ManufacturerName",name:"name",maxLength:200,value:w.name,onChange:function(e){k(!0);var r=e.target,t=r.name,n=r.value;S((0,s.Z)((0,s.Z)({},w),{},(0,i.Z)({},t,n)));var a=B(n);L((0,s.Z)((0,s.Z)({},T),{},(0,i.Z)({nameInvalid:!a},t,!n||0===n.toString().trim().length)))}}),(null===T||void 0===T?void 0:T.name)&&(0,b.jsx)(v.v,{severity:"error",text:"Manufacturer Name is required."}),(null===T||void 0===T?void 0:T.nameInvalid)&&(0,b.jsx)(v.v,{severity:"error",text:"Manufacturer Name already exists."})]}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"SortOrder",children:["Sort Order ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(f.R,{id:"SortOrder",name:"sortOrder",value:w.sortOrder,maxFractionDigits:0,onValueChange:function(e){return function(e){k(!0);var r=null===e.value?-1:e.value;S((0,s.Z)((0,s.Z)({},w),{},{sortOrder:r})),L((0,s.Z)((0,s.Z)({},T),{},{sortOrder:r<0}))}(e)}}),(null===T||void 0===T?void 0:T.sortOrder)&&(0,b.jsx)(v.v,{severity:"error",text:"Sort Order is required."})]})]})})})]}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:"\xa0"}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)(u.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!D,onClick:Y}),"\xa0 \xa0",(0,b.jsx)(u.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:H})]})]})]})}},5973:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(7313),a=t(5234),i=t(7371),s=t(1742),o=i.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),c=n.forwardRef((function(e,r){var t=n.useContext(s.Ou),i=o.getProps(e,t),c=n.useRef(r),l=o.setMetaData({props:i}).ptm;n.useEffect((function(){a.gb.combinedRefs(c,r)}),[c,r]);var u=(0,a.dG)({id:i.id,ref:c,style:i.style,className:(0,a.AK)("p-card p-component",i.className)},o.getOtherProps(i),l("root")),d=function(){var e=(0,a.dG)({className:"p-card-header"},l("header"));return i.header?n.createElement("div",e,a.gb.getJSXElement(i.header,i)):null}(),f=function(){var e=(0,a.dG)({className:"p-card-title"},l("title")),r=i.title&&n.createElement("div",e,a.gb.getJSXElement(i.title,i)),t=(0,a.dG)({className:"p-card-subtitle"},l("subTitle")),s=i.subTitle&&n.createElement("div",t,a.gb.getJSXElement(i.subTitle,i)),o=(0,a.dG)({className:"p-card-content"},l("content")),c=i.children&&n.createElement("div",o,i.children),u=(0,a.dG)({className:"p-card-footer"},l("footer")),d=i.footer&&n.createElement("div",u,a.gb.getJSXElement(i.footer,i)),f=(0,a.dG)({className:"p-card-body"},l("body"));return n.createElement("div",f,r,s,c,d)}();return n.createElement("div",u,d,f)}));c.displayName="Card"},364:function(e,r,t){t.d(r,{v:function(){return g}});var n=t(7313),a=t(5234),i=t(7371),s=t(4611),o=t(4229),c=t(886),l=t(3210),u=t(1742);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e){var r=function(e,r){if("object"!==d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===d(r)?r:String(r)}function m(e,r,t){return(r=f(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var v=i.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var g=n.memo(n.forwardRef((function(e,r){var t=n.useContext(u.Ou),i=v.getProps(e,t),d=n.useRef(null),f=v.setMetaData({props:i}).ptm;n.useImperativeHandle(r,(function(){return{props:i,getElement:function(){return d.current}}}));var g=(0,a.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===i.severity,"p-inline-message-warn":"warn"===i.severity,"p-inline-message-error":"error"===i.severity,"p-inline-message-success":"success"===i.severity,"p-inline-message-icon-only":!i.text},i.className),h=function(){if(i.content)return a.gb.getJSXElement(i.content,i);var e=a.gb.getJSXElement(i.text,i),r=(0,a.dG)({className:"p-inline-message-icon"},f("icon")),t=i.icon;if(!t)switch(i.severity){case"info":t=n.createElement(o.u,r);break;case"warn":t=n.createElement(s.L,r);break;case"error":t=n.createElement(c.x,r);break;case"success":t=n.createElement(l.n,r)}var u=a.Cz.getJSXIcon(t,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},r),{props:i}),d=(0,a.dG)({className:"p-inline-message-text"},f("text"));return n.createElement(n.Fragment,null,u,n.createElement("span",d,e))}(),y=(0,a.dG)({id:i.id,ref:d,className:g,style:i.style,role:"alert","aria-live":"polite"},v.getOtherProps(i),f("root"));return n.createElement("div",y,h)})));g.displayName="Message"},2549:function(e,r,t){t.d(r,{Z:function(){return u}});var n,a={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var o=[],c=0;c<256;++c)o.push((c+256).toString(16).slice(1));function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(o[e[r+0]]+o[e[r+1]]+o[e[r+2]]+o[e[r+3]]+"-"+o[e[r+4]]+o[e[r+5]]+"-"+o[e[r+6]]+o[e[r+7]]+"-"+o[e[r+8]]+o[e[r+9]]+"-"+o[e[r+10]]+o[e[r+11]]+o[e[r+12]]+o[e[r+13]]+o[e[r+14]]+o[e[r+15]]).toLowerCase()}var u=function(e,r,t){if(a.randomUUID&&!r&&!e)return a.randomUUID();var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var i=0;i<16;++i)r[t+i]=n[i];return r}return l(n)}}}]);