"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[1976],{1976:function(e,t,r){r.r(t);var n=r(4165),i=r(5861),a=r(4942),s=r(1413),o=r(9439),l=r(7313),c=r(8467),u=r(3499),d=r(5973),m=r(244),f=r(7220),v=r(364),p=r(3709),g=r(1315),h=r(8369),y=r(2549),b=r(6417);t.default=function(){var e="/usageunits",t=(0,c.s0)(),r=(0,l.useState)("Create"),x=(0,o.Z)(r,2),j=x[0],N=x[1],E=(0,l.useState)({id:"",name:"",sortOrder:0}),O=(0,o.Z)(E,2),U=O[0],w=O[1],S=(0,l.useState)(!1),Z=(0,o.Z)(S,2),C=Z[0],P=Z[1],k=(0,l.useState)(!1),D=(0,o.Z)(k,2),T=D[0],R=D[1],G=(0,l.useState)({}),I=(0,o.Z)(G,2),L=I[0],J=I[1],M=(0,c.UO)(),X=(0,l.useRef)(!0),q=(0,g.C)((function(e){return[e.usageUnits.usageUnit,e.usageUnits.isFetching,e.usageUnits.isError,e.usageUnits.usageUnits]}),p.wU),F=(0,o.Z)(q,4),V=F[0],_=F[1],z=F[2],A=F[3],B=(0,g.T)();(0,l.useEffect)((function(){if(X.current&&(X.current=!1,"edit"===M.mode)){N("Edit");var e=M.id;e&&B(h.MT.getUsageUnitById(e))}}),[M,B]),(0,l.useEffect)((function(){"edit"!==M.mode||U.id===(null===V||void 0===V?void 0:V.id)||_||z||w(V)}),[M,U,V,_,z]);var K=(0,l.useCallback)((function(e){var t=!0;return 0===U.id.length?A.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(t=!1):A.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&t.id!==U.id}))&&(t=!1),t}),[U.id,A]);(0,l.useEffect)((function(){if(C){for(var e=!0,t=0,r=Object.entries(U);t<r.length;t++){var n=(0,o.Z)(r[t],2),i=n[0],a=n[1];if("id"!==i)if("string"===typeof a){if(0===(null===a||void 0===a?void 0:a.trim().length)){e=!1;break}}else if("number"===typeof a&&(a||0)<0){e=!1;break}}R(e&&K(U.name||""))}}),[C,U,K]);var Y=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"Edit"!==j&&(U.id=(0,y.Z)()),B(h.MT.updateUsageUnit(U)),setTimeout((function(){B(h.MT.getUsageUnits())}),300),t(e);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),H=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t(e);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"caption",children:["Usage Unit: ",j]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Usage Unit"})})}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"UnitName",children:["Unit Name ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(f.o,{id:"UnitName",name:"name",maxLength:200,value:U.name,onChange:function(e){P(!0);var t=e.target,r=t.name,n=t.value;w((0,s.Z)((0,s.Z)({},U),{},(0,a.Z)({},r,n)));var i=K(n);J((0,s.Z)((0,s.Z)({},L),{},(0,a.Z)({nameInvalid:!i},r,!n||0===n.toString().trim().length)))}}),(null===L||void 0===L?void 0:L.name)&&(0,b.jsx)(v.v,{severity:"error",text:"Unit Name is required."}),(null===L||void 0===L?void 0:L.nameInvalid)&&(0,b.jsx)(v.v,{severity:"error",text:"Unit Name already exists."})]}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"SortOrder",children:["Sort Order ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(m.R,{id:"SortOrder",name:"sortOrder",value:U.sortOrder,maxFractionDigits:0,onValueChange:function(e){return function(e){P(!0);var t=null===e.value?-1:e.value;w((0,s.Z)((0,s.Z)({},U),{},{sortOrder:t})),J((0,s.Z)((0,s.Z)({},L),{},{sortOrder:t<0}))}(e)}}),(null===L||void 0===L?void 0:L.sortOrder)&&(0,b.jsx)(v.v,{severity:"error",text:"Sort Order is required."})]})]})})})]}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:"\xa0"}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)(u.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!T,onClick:Y}),"\xa0 \xa0",(0,b.jsx)(u.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:H})]})]})]})}},5973:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(7313),i=r(5234),a=r(7371),s=r(1742),o=a.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),l=n.forwardRef((function(e,t){var r=n.useContext(s.Ou),a=o.getProps(e,r),l=n.useRef(t),c=o.setMetaData({props:a}).ptm;n.useEffect((function(){i.gb.combinedRefs(l,t)}),[l,t]);var u=(0,i.dG)({id:a.id,ref:l,style:a.style,className:(0,i.AK)("p-card p-component",a.className)},o.getOtherProps(a),c("root")),d=function(){var e=(0,i.dG)({className:"p-card-header"},c("header"));return a.header?n.createElement("div",e,i.gb.getJSXElement(a.header,a)):null}(),m=function(){var e=(0,i.dG)({className:"p-card-title"},c("title")),t=a.title&&n.createElement("div",e,i.gb.getJSXElement(a.title,a)),r=(0,i.dG)({className:"p-card-subtitle"},c("subTitle")),s=a.subTitle&&n.createElement("div",r,i.gb.getJSXElement(a.subTitle,a)),o=(0,i.dG)({className:"p-card-content"},c("content")),l=a.children&&n.createElement("div",o,a.children),u=(0,i.dG)({className:"p-card-footer"},c("footer")),d=a.footer&&n.createElement("div",u,i.gb.getJSXElement(a.footer,a)),m=(0,i.dG)({className:"p-card-body"},c("body"));return n.createElement("div",m,t,s,l,d)}();return n.createElement("div",u,d,m)}));l.displayName="Card"},364:function(e,t,r){r.d(t,{v:function(){return g}});var n=r(7313),i=r(5234),a=r(7371),s=r(4611),o=r(4229),l=r(886),c=r(3210),u=r(1742);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function f(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=a.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=n.memo(n.forwardRef((function(e,t){var r=n.useContext(u.Ou),a=v.getProps(e,r),d=n.useRef(null),m=v.setMetaData({props:a}).ptm;n.useImperativeHandle(t,(function(){return{props:a,getElement:function(){return d.current}}}));var g=(0,i.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===a.severity,"p-inline-message-warn":"warn"===a.severity,"p-inline-message-error":"error"===a.severity,"p-inline-message-success":"success"===a.severity,"p-inline-message-icon-only":!a.text},a.className),h=function(){if(a.content)return i.gb.getJSXElement(a.content,a);var e=i.gb.getJSXElement(a.text,a),t=(0,i.dG)({className:"p-inline-message-icon"},m("icon")),r=a.icon;if(!r)switch(a.severity){case"info":r=n.createElement(o.u,t);break;case"warn":r=n.createElement(s.L,t);break;case"error":r=n.createElement(l.x,t);break;case"success":r=n.createElement(c.n,t)}var u=i.Cz.getJSXIcon(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),{props:a}),d=(0,i.dG)({className:"p-inline-message-text"},m("text"));return n.createElement(n.Fragment,null,u,n.createElement("span",d,e))}(),y=(0,i.dG)({id:a.id,ref:d,className:g,style:a.style,role:"alert","aria-live":"polite"},v.getOtherProps(a),m("root"));return n.createElement("div",y,h)})));g.displayName="Message"},2549:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},a=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var o=[],l=0;l<256;++l)o.push((l+256).toString(16).slice(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}var u=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return c(n)}}}]);