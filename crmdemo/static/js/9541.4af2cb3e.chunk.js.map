{"version":3,"file":"static/js/9541.4af2cb3e.chunk.js","mappings":"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","sources":["pages/Invoice/InvoicePrint.tsx","pages/Invoice/InvoiceEdit.tsx","utilities/constants.ts","utilities/globals.ts","utilities/helpers.ts"],"sourcesContent":["import React from \"react\";\r\nimport { IInvoice } from \"../../models/invoice\";\r\nimport { convertStringToDate } from \"../../utilities/helpers\";\r\nimport { IAccount } from \"../../models/account\";\r\nimport { ICurrency } from \"../../models/currency\";\r\nimport { IProduct } from \"../../models/product\";\r\nimport { Column } from \"primereact/column\";\r\nimport { DataTable } from \"primereact/datatable\";\r\n\r\ninterface IInvoicePrintProps {\r\n  item: IInvoice;\r\n  accounts: IAccount[];\r\n  currencies: ICurrency[];\r\n  products: IProduct[];\r\n}\r\n\r\nconst InvoicePrint: React.FC<IInvoicePrintProps> = (props) => {\r\n  const priceBodyTemplate = (rowData: any) => {\r\n    return <div className=\"text-right\">{rowData?.listPrice?.toFixed(2)}</div>;\r\n  };\r\n\r\n  const discountBodyTemplate = (rowData: any) => {\r\n    return `${rowData?.discountType} ${rowData?.discount}`;\r\n  };\r\n\r\n  const totalBodyTemplate = (rowData: any) => {\r\n    return <div className=\"text-right\">{rowData?.total?.toFixed(2)}</div>;\r\n  };\r\n\r\n  const tableFooter = (item: IInvoice) => (\r\n    <div className=\"grid text-right\">\r\n      <div className=\"col-7\">&nbsp;</div>\r\n      <div className=\"col-5\">\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Items Total:</div>\r\n              <div className=\"col\">{item.subTotal?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Tax:</div>\r\n              <div className=\"col\">{item.taxTotal?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Grand Total: (in {item.currencyId})</div>\r\n              <div className=\"col\">{item.total?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const getContent = () => {\r\n    if (props.item.id === \"\") {\r\n      return null;\r\n    }\r\n\r\n    const item: IInvoice = { ...props.item };\r\n\r\n    if (props.accounts) {\r\n      const account = props.accounts.find((x) => x.id === item.accountId);\r\n      if (account) {\r\n        item.accountId = account.name;\r\n      }\r\n    }\r\n\r\n    if (props.currencies) {\r\n      const currency = props.currencies.find((x) => x.id === item.currencyId);\r\n      if (currency) {\r\n        item.currencyId = currency.symbol;\r\n      }\r\n    }\r\n\r\n    if (props.products && props.item.items) {\r\n      item.items = props.item.items.map((x) => {\r\n        const result = { ...x };\r\n        const product = props.products.find((p) => p.id === x.productId);\r\n        if (product) {\r\n          result.productId = product.name;\r\n        }\r\n\r\n        return result;\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"grid p-5\">\r\n        <div className=\"col-12\">\r\n          <h3>Invoice</h3>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"grid\">\r\n            <div className=\"col\">\r\n              <label htmlFor=\"Subject\">Subject:</label>\r\n            </div>\r\n            <div className=\"col\">{item.subject}</div>\r\n            <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n            <div className=\"col\">\r\n              <label htmlFor=\"Opportunity\">Customer Name:</label>\r\n            </div>\r\n            <div className=\"col\">{item.accountId}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"grid\">\r\n            <div className=\"col\">\r\n              <label htmlFor=\"CustomerNo\">Issued Date:</label>\r\n            </div>\r\n            <div className=\"col\">{new Date().toLocaleDateString()}</div>\r\n            <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n            <div className=\"col\">\r\n              <label htmlFor=\"Account\">Due Date:</label>\r\n            </div>\r\n            <div className=\"col\">\r\n              {convertStringToDate(item.dueDate)?.toLocaleDateString()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"grid\">\r\n            <div className=\"col\">\r\n              <label htmlFor=\"PurchaseOrder\">Billing Address:</label>\r\n            </div>\r\n            <div className=\"col\">{`${item.billingAddressStreet} ${item.billingAddressCity}, ${item.billingAddressState} ${item.billingAddressPostalcode} ${item.billingAddressCountry}`}</div>\r\n            <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n            <div className=\"col\">\r\n              <label htmlFor=\"Contact\">Shipping Address:</label>\r\n            </div>\r\n            <div className=\"col\">{`${item.shippingAddressStreet} ${item.shippingAddressCity}, ${item.shippingAddressState} ${item.shippingAddressPostalcode} ${item.shippingAddressCountry}`}</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <DataTable\r\n            value={item.items}\r\n            showGridlines\r\n            footer={tableFooter(item)}\r\n          >\r\n            <Column field=\"productId\" header=\"Product\"></Column>\r\n            <Column field=\"quantity\" header=\"Quantity\"></Column>\r\n            <Column\r\n              field=\"listPrice\"\r\n              header=\"Selling Price\"\r\n              body={priceBodyTemplate}\r\n            ></Column>\r\n            <Column\r\n              field=\"discountType\"\r\n              header=\"Discount\"\r\n              body={discountBodyTemplate}\r\n            ></Column>\r\n            <Column\r\n              field=\"total\"\r\n              header=\"Total\"\r\n              body={totalBodyTemplate}\r\n            ></Column>\r\n          </DataTable>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <h3>Description</h3>\r\n        </div>\r\n        <div className=\"col-12\">{item.description}</div>\r\n        <div className=\"col-12\">\r\n          <h3>Terms &amp; Conditions</h3>\r\n        </div>\r\n        <div className=\"col-12\">{item.termsConditions}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return <>{getContent()}</>;\r\n};\r\n\r\nexport default InvoicePrint;\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button } from \"primereact/button\";\r\nimport { Card } from \"primereact/card\";\r\nimport { Calendar } from \"primereact/calendar\";\r\nimport { Column } from \"primereact/column\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport { InputNumber } from \"primereact/inputnumber\";\r\nimport { Message } from \"primereact/message\";\r\nimport { MultiStateCheckbox } from \"primereact/multistatecheckbox\";\r\nimport { shallowEqual } from \"react-redux\";\r\nimport { useAppDispatch, useAppSelector } from \"../../utilities/hooks\";\r\nimport { accountActions } from \"../../store/account/accountSlice\";\r\nimport { contactActions } from \"../../store/contact/contactSlice\";\r\nimport { currencyActions } from \"../../store/currency/currencySlice\";\r\nimport { invoiceActions } from \"../../store/invoice/invoiceSlice\";\r\nimport { opportunityActions } from \"../../store/opportunity/opportunitySlice\";\r\nimport { productActions } from \"../../store/product/productSlice\";\r\nimport { salesOrderActions } from \"../../store/salesOrder/salesOrderSlice\";\r\nimport { userActions } from \"../../store/user/userSlice\";\r\nimport { IAppState } from \"../../models/appState\";\r\nimport { IInventoryProduct } from \"../../models/inventoryProduct\";\r\nimport { IProduct } from \"../../models/product\";\r\nimport { IInvoice } from \"../../models/invoice\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { TERMS_CONDITIONS } from \"../../utilities/constants\";\r\nimport {\r\n  convertDateToString,\r\n  convertStringToDate,\r\n  convertCurrency,\r\n} from \"../../utilities/helpers\";\r\nimport { discounts, statusData } from \"../../utilities/globals\";\r\nimport InvoicePrint from \"./InvoicePrint\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\nconst InvoiceEdit: React.FC = () => {\r\n  const defaultItem: IInvoice = {\r\n    id: \"\",\r\n    subject: \"\",\r\n    salesOrderId: \"\",\r\n    customerNo: \"\",\r\n    opportunityId: \"\",\r\n    contactId: \"\",\r\n    invoiceDate: \"\",\r\n    dueDate: \"\",\r\n    purchaseOrder: \"\",\r\n    exciseDuty: 0,\r\n    salesCommission: 0,\r\n    accountId: \"\",\r\n    accountName: \"\",\r\n    status: \"\",\r\n    currencyId: \"\",\r\n    assignedUserId: \"\",\r\n    assignedUserLastName: \"\",\r\n    termsConditions: \"\",\r\n    subTotal: 0,\r\n    taxTotal: 0,\r\n    total: 0,\r\n    billingAddressStreet: \"\",\r\n    billingAddressCity: \"\",\r\n    billingAddressState: \"\",\r\n    billingAddressPostalcode: \"\",\r\n    billingAddressCountry: \"\",\r\n    shippingAddressStreet: \"\",\r\n    shippingAddressCity: \"\",\r\n    shippingAddressState: \"\",\r\n    shippingAddressPostalcode: \"\",\r\n    shippingAddressCountry: \"\",\r\n    description: \"\",\r\n    items: [],\r\n  };\r\n  const navigateTo = \"/invoices\";\r\n  const navigate = useNavigate();\r\n  const [subtitle, setSubtitle] = useState(\"Create\");\r\n  const [item, setItem] = useState(defaultItem);\r\n  const [dirty, setDirty] = useState(false); // if form input has been changed, dirty is true\r\n  const [valid, setValid] = useState(false); // if form input is valid, valid is true\r\n  const [errors, setErrors] = useState({}); // indicates if fields are valid\r\n  const [deleteDialog, setDeleteDialog] = useState(false);\r\n  const [inventoryId, setInventoryId] = useState(\"\"); // Inventory Product Id\r\n  const [activeProducts, setActiveProducts] = useState([] as IProduct[]);\r\n  const params = useParams();\r\n  const memo = useRef(true);\r\n  const componentRef = useRef(null);\r\n\r\n  const [\r\n    invoice,\r\n    isFetching,\r\n    isError,\r\n    accounts,\r\n    contacts,\r\n    currencies,\r\n    invoices,\r\n    opportunities,\r\n    products,\r\n    salesOrders,\r\n    users,\r\n    isProfile,\r\n    profile,\r\n  ] = useAppSelector(\r\n    (state: IAppState) => [\r\n      state.invoices.invoice,\r\n      state.invoices.isFetching,\r\n      state.invoices.isError,\r\n      state.accounts.accounts,\r\n      state.contacts.contacts,\r\n      state.currencies.currencies,\r\n      state.invoices.invoices,\r\n      state.opportunities.opportunities,\r\n      state.products.products,\r\n      state.salesOrders.salesOrders,\r\n      state.users.users,\r\n      state.users.isProfile,\r\n      state.users.profile,\r\n    ],\r\n    shallowEqual\r\n  );\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (memo.current) {\r\n      memo.current = false;\r\n      dispatch(accountActions.getAccounts());\r\n      dispatch(contactActions.getContacts());\r\n      dispatch(currencyActions.getCurrencies());\r\n      dispatch(opportunityActions.getOpportunities());\r\n      dispatch(productActions.getProducts());\r\n      dispatch(salesOrderActions.getSalesOrders());\r\n      dispatch(userActions.getUsers());\r\n      if (params.mode === \"edit\") {\r\n        setSubtitle(\"Edit\");\r\n        const id = params.id;\r\n        if (id) {\r\n          dispatch(invoiceActions.getInvoiceById(id));\r\n        }\r\n      } else {\r\n        setItem({ ...item, termsConditions: TERMS_CONDITIONS });\r\n      }\r\n    }\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    if (\r\n      params.mode !== \"edit\" &&\r\n      isProfile &&\r\n      profile &&\r\n      profile.currencyId &&\r\n      item.currencyId === \"\" &&\r\n      profile.currencyId !== item.currencyId\r\n    ) {\r\n      setItem({ ...item, currencyId: profile.currencyId });\r\n    }\r\n  }, [params, isProfile, profile, item]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      params.mode === \"edit\" &&\r\n      item.id !== invoice?.id &&\r\n      !isFetching &&\r\n      !isError\r\n    ) {\r\n      setItem(invoice);\r\n    }\r\n  }, [params, item, invoice, isFetching, isError]);\r\n\r\n  useEffect(() => {\r\n    if (products && products.length > 0) {\r\n      const productItems = products.filter((x) => !!x.active);\r\n      if (productItems.length > 0) {\r\n        setActiveProducts(productItems);\r\n      }\r\n    }\r\n  }, [products]);\r\n\r\n  const isSubjectValid = useCallback(\r\n    (subject: string) => {\r\n      let result = true;\r\n      if (item.id.length === 0) {\r\n        if (\r\n          invoices.find(\r\n            (x) => x.subject?.toLowerCase() === subject?.toLowerCase()\r\n          )\r\n        ) {\r\n          result = false;\r\n        }\r\n      } else {\r\n        if (\r\n          invoices.find(\r\n            (x) =>\r\n              x.subject?.toLowerCase() === subject?.toLowerCase() &&\r\n              x.id !== item.id\r\n          )\r\n        ) {\r\n          result = false;\r\n        }\r\n      }\r\n\r\n      return result;\r\n    },\r\n    [item.id, invoices]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!dirty) {\r\n      return;\r\n    }\r\n\r\n    setValid(\r\n      (item.subject || \"\").trim().length > 0 &&\r\n        isSubjectValid(item.subject || \"\") &&\r\n        (item.currencyId || \"\").trim().length > 0\r\n    );\r\n  }, [dirty, item, isSubjectValid]);\r\n\r\n  const convertAmounts = (currencyId: string) => {\r\n    let itemsTotal = 0;\r\n    let itemsTax = 0;\r\n\r\n    const id = item.currencyId ? item.currencyId : \"\";\r\n    const items = item.items || [];\r\n    const soItems: IInventoryProduct[] = [];\r\n    for (let i = 0; i < items.length; i++) {\r\n      let x = { ...items[i] };\r\n      x.purchaseCost = convertCurrency(\r\n        id,\r\n        currencyId,\r\n        x.purchaseCost,\r\n        currencies\r\n      );\r\n      x.listPrice = convertCurrency(id, currencyId, x.listPrice, currencies);\r\n\r\n      if (x.discountType === \"$\") {\r\n        x.discount = convertCurrency(\r\n          id,\r\n          currencyId,\r\n          x.discount || 0,\r\n          currencies\r\n        );\r\n      }\r\n\r\n      x.total = convertCurrency(id, currencyId, x.total, currencies);\r\n      x.tax = convertCurrency(id, currencyId, x.tax, currencies);\r\n      soItems.push(x);\r\n\r\n      itemsTotal += x.total;\r\n      itemsTax = x.tax;\r\n    }\r\n\r\n    return {\r\n      subTotal: itemsTotal,\r\n      taxTotal: itemsTax,\r\n      total: itemsTotal + itemsTax,\r\n      items: soItems,\r\n    };\r\n  };\r\n\r\n  const onChange = (e: any) => {\r\n    setDirty(true);\r\n    const {\r\n      target: { name: tname, value: tvalue },\r\n    } = e;\r\n\r\n    if (tname === \"dueDate\") {\r\n      setItem({ ...item, [tname]: convertDateToString(tvalue) });\r\n    } else if (tname === \"accountId\") {\r\n      const account = accounts.find((value) => value.id === tvalue);\r\n      if (account) {\r\n        setItem({ ...item, [tname]: tvalue, accountName: account.name });\r\n      }\r\n    } else if (tname === \"currencyId\") {\r\n      setItem({ ...item, [tname]: tvalue, ...convertAmounts(e.target.value) });\r\n    } else if (tname === \"assignedUserId\") {\r\n      const user = users.find((value) => value.id === tvalue);\r\n      if (user) {\r\n        setItem({\r\n          ...item,\r\n          [tname]: tvalue,\r\n          assignedUserLastName: user.lastName,\r\n        });\r\n      }\r\n    } else {\r\n      setItem({ ...item, [tname]: tvalue });\r\n    }\r\n\r\n    if (tname === \"subject\") {\r\n      const isValidSubject = isSubjectValid(tvalue);\r\n      setErrors({\r\n        ...errors,\r\n        subjectInvalid: !isValidSubject,\r\n        [tname]: tvalue ? tvalue.toString().trim().length === 0 : true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onCopyBillingClick = () => {\r\n    setDirty(true);\r\n    setItem({\r\n      ...item,\r\n      shippingAddressStreet: item.billingAddressStreet,\r\n      shippingAddressCity: item.billingAddressCity,\r\n      shippingAddressState: item.billingAddressState,\r\n      shippingAddressPostalcode: item.billingAddressPostalcode,\r\n      shippingAddressCountry: item.billingAddressCountry,\r\n    });\r\n  };\r\n\r\n  const onCopyShippingClick = () => {\r\n    setDirty(true);\r\n    setItem({\r\n      ...item,\r\n      billingAddressStreet: item.shippingAddressStreet,\r\n      billingAddressCity: item.shippingAddressCity,\r\n      billingAddressState: item.shippingAddressState,\r\n      billingAddressPostalcode: item.shippingAddressPostalcode,\r\n      billingAddressCountry: item.shippingAddressCountry,\r\n    });\r\n  };\r\n\r\n  const onAddClick = () => {\r\n    setDirty(true);\r\n\r\n    const newItem: IInventoryProduct = {\r\n      id: uuidv4(),\r\n      quantity: 1,\r\n      discountType: \"\",\r\n      discount: 0,\r\n      tax: 0,\r\n      total: 0,\r\n      taxes: [],\r\n    };\r\n\r\n    let newItemTotal = 0.0;\r\n    let newItemTax = 0.0;\r\n\r\n    if (activeProducts && activeProducts.length > 0) {\r\n      const product = activeProducts[0];\r\n      newItem.productId = product.id;\r\n      newItem.listPrice = product.unitPrice || 0;\r\n      newItem.purchaseCost =\r\n        (product.purchaseCost || 0) * (newItem.quantity || 0);\r\n      if (product.currencyId !== item.currencyId) {\r\n        newItem.listPrice = convertCurrency(\r\n          product.currencyId || \"\",\r\n          item.currencyId || \"\",\r\n          newItem.listPrice,\r\n          currencies\r\n        );\r\n        newItem.purchaseCost = convertCurrency(\r\n          product.currencyId || \"\",\r\n          item.currencyId || \"\",\r\n          newItem.purchaseCost,\r\n          currencies\r\n        );\r\n      }\r\n\r\n      newItem.taxes = [...(product.taxes || [])];\r\n\r\n      // Calc taxes\r\n      newItemTotal = newItem.listPrice;\r\n      newItemTax = 0.0;\r\n      if (newItem.taxes.length > 0) {\r\n        newItem.taxes.forEach((x) => {\r\n          newItemTax += (newItemTotal * (x.value || 0)) / 100.0;\r\n        });\r\n        newItem.tax = newItemTax;\r\n      }\r\n\r\n      newItem.total = newItemTotal;\r\n    }\r\n\r\n    const itemsTotal = (item.subTotal || 0) + newItemTotal;\r\n    const itemsTax = (item.taxTotal || 0) + newItemTax;\r\n    const total = itemsTotal + itemsTax;\r\n\r\n    const items = [...(item.items || []), newItem];\r\n    setItem({\r\n      ...item,\r\n      subTotal: itemsTotal,\r\n      taxTotal: itemsTax,\r\n      total: total,\r\n      items: items,\r\n    });\r\n  };\r\n\r\n  const onRowEditComplete = (e: any) => {\r\n    setDirty(true);\r\n    const { newData, index, data } = e;\r\n    const rowData = newData as IInventoryProduct;\r\n    rowData.discount = data.discount || 0;\r\n    let itemTotal = (rowData.listPrice || 0) * (rowData.quantity || 0);\r\n\r\n    // Calc discounts\r\n    switch (rowData.discountType) {\r\n      case \"%\":\r\n        itemTotal -= (itemTotal * (rowData.discount || 0)) / 100.0;\r\n        break;\r\n\r\n      case \"$\":\r\n        itemTotal -= rowData.discount || 0;\r\n        break;\r\n\r\n      default:\r\n        rowData.discount = 0;\r\n    }\r\n\r\n    rowData.total = itemTotal;\r\n\r\n    let itemTax = 0;\r\n    const product = activeProducts.find((x) => x.id === rowData.productId);\r\n    if (product) {\r\n      rowData.purchaseCost =\r\n        (product.purchaseCost || 0) * (rowData.quantity || 0);\r\n      rowData.taxes = [...(product.taxes || [])];\r\n\r\n      // Calc item tax\r\n      if (rowData.taxes.length > 0) {\r\n        rowData.taxes.forEach((x) => {\r\n          itemTax += (itemTotal * (x.value || 0)) / 100.0;\r\n        });\r\n        rowData.tax = itemTax;\r\n      }\r\n    }\r\n\r\n    // Calc totals\r\n    let itemsTotal = itemTotal;\r\n    let itemsTax = itemTax;\r\n    let total = 0;\r\n    if (item.items) {\r\n      item.items.forEach((x) => {\r\n        if (x.id !== rowData.id) {\r\n          itemsTotal += x.total || 0;\r\n          itemsTax += x.tax || 0;\r\n        }\r\n      });\r\n\r\n      total = itemsTotal + itemsTax;\r\n    }\r\n\r\n    const soItems = [...(item.items || [])];\r\n    soItems[index] = rowData;\r\n    setItem({\r\n      ...item,\r\n      subTotal: itemsTotal,\r\n      taxTotal: itemsTax,\r\n      total: total,\r\n      items: soItems,\r\n    });\r\n  };\r\n\r\n  const productBodyTemplate = (rowData: any) => {\r\n    const product = products.find((x) => x.id === rowData.productId);\r\n    return product?.name;\r\n  };\r\n\r\n  const onProductEditorChange = (options: any, e: any) => {\r\n    const product = activeProducts.find((x) => x.id === e.value);\r\n    if (product && item) {\r\n      const { rowData, rowIndex } = options;\r\n      rowData.listPrice = product.unitPrice;\r\n      const soItems = [...(item.items || [])];\r\n      soItems[rowIndex] = rowData;\r\n      setItem({ ...item, items: soItems });\r\n    }\r\n\r\n    options.editorCallback(e.value);\r\n  };\r\n\r\n  const productEditor = (options: any) => {\r\n    return (\r\n      <Dropdown\r\n        value={options.value}\r\n        options={activeProducts}\r\n        optionLabel=\"name\"\r\n        optionValue=\"id\"\r\n        onChange={(e) => onProductEditorChange(options, e)}\r\n        placeholder=\"Select a Product\"\r\n        itemTemplate={(option) => {\r\n          return <span>{option.name}</span>;\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  const priceBodyTemplate = (rowData: any) => {\r\n    return <div className=\"text-right\">{rowData?.listPrice?.toFixed(2)}</div>;\r\n  };\r\n\r\n  const discountBodyTemplate = (rowData: any) => {\r\n    return `${rowData?.discountType} ${rowData?.discount}`;\r\n  };\r\n\r\n  const onDiscountTypeEditorChange = (options: any, e: any) => {\r\n    let discountType;\r\n\r\n    switch (e.value) {\r\n      case \"% Price\":\r\n        discountType = \"%\";\r\n        break;\r\n\r\n      case \"Direct Price Reduction\":\r\n        discountType = \"$\";\r\n        break;\r\n\r\n      default:\r\n        discountType = \"\";\r\n    }\r\n\r\n    options.editorCallback(discountType);\r\n  };\r\n\r\n  const onDiscountEditorChange = (options: any, e: any) => {\r\n    const { rowData, rowIndex } = options;\r\n    rowData.discount = e;\r\n    const soItems = [...(item.items || [])];\r\n    soItems[rowIndex] = rowData;\r\n    setItem({ ...item, items: soItems });\r\n  };\r\n\r\n  const discountEditor = (options: any) => {\r\n    let discountType;\r\n\r\n    switch (options.value) {\r\n      case \"%\":\r\n        discountType = \"% Price\";\r\n        break;\r\n\r\n      case \"$\":\r\n        discountType = \"Direct Price Reduction\";\r\n        break;\r\n\r\n      default:\r\n        discountType = \"Zero Discount\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"field-checkbox m-0\">\r\n        <MultiStateCheckbox\r\n          value={discountType}\r\n          options={discounts}\r\n          optionValue=\"value\"\r\n          onChange={(e) => onDiscountTypeEditorChange(options, e)}\r\n          tooltip={discountType}\r\n        />\r\n        &nbsp;\r\n        {discountType !== \"Zero Discount\" && (\r\n          <InputNumber\r\n            value={options.rowData?.discount}\r\n            onValueChange={(e) => onDiscountEditorChange(options, e.value)}\r\n            size={9}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const textEditor = (options: any) => {\r\n    return (\r\n      <InputText\r\n        value={options.value}\r\n        onChange={(e) => options.editorCallback(e.target.value)}\r\n      />\r\n    );\r\n  };\r\n\r\n  const numberEditor = (options: any) => {\r\n    return (\r\n      <InputNumber\r\n        value={options.value}\r\n        onValueChange={(e) => options.editorCallback(e.value)}\r\n        size={9}\r\n      />\r\n    );\r\n  };\r\n\r\n  const totalBodyTemplate = (rowData: any) => {\r\n    return <div className=\"text-right\">{rowData?.total?.toFixed(2)}</div>;\r\n  };\r\n\r\n  const actionBodyTemplate = (rowData: any) => {\r\n    return (\r\n      <>\r\n        <Button\r\n          icon=\"pi pi-trash\"\r\n          className=\"p-row-editor-init p-link\"\r\n          tooltip=\"Delete\"\r\n          onClick={() => confirmDeleteItem(rowData)}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const confirmDeleteItem = (rowData: any) => {\r\n    setInventoryId(rowData.id);\r\n    setDeleteDialog(true);\r\n  };\r\n\r\n  const hideDeleteDialog = () => {\r\n    setDeleteDialog(false);\r\n  };\r\n\r\n  const deleteItem = async () => {\r\n    if (inventoryId) {\r\n      const invItems = item.items?.filter((x) => x.id !== inventoryId);\r\n      if (invItems) {\r\n        setDirty(true);\r\n\r\n        let deltemTotal = 0.0;\r\n        let delItemTax = 0.0;\r\n        const delItem = item.items?.find((x) => x.id === inventoryId);\r\n        if (delItem) {\r\n          deltemTotal = delItem.total || 0.0;\r\n          delItemTax = delItem.tax || 0.0;\r\n        }\r\n\r\n        const itemsTotal = (item.subTotal || 0) - deltemTotal;\r\n        const itemsTax = (item.taxTotal || 0) - delItemTax;\r\n        const total = itemsTotal + itemsTax;\r\n\r\n        setItem({\r\n          ...item,\r\n          subTotal: itemsTotal,\r\n          taxTotal: itemsTax,\r\n          total: total,\r\n          items: invItems,\r\n        });\r\n      }\r\n    }\r\n\r\n    hideDeleteDialog();\r\n    setInventoryId(\"\");\r\n  };\r\n\r\n  const deleteDialogFooter = (\r\n    <>\r\n      <Button\r\n        label=\"No\"\r\n        icon=\"pi pi-times\"\r\n        className=\"p-button-text\"\r\n        onClick={hideDeleteDialog}\r\n      />\r\n      <Button\r\n        label=\"Yes\"\r\n        icon=\"pi pi-check\"\r\n        className=\"p-button-text\"\r\n        onClick={deleteItem}\r\n      />\r\n    </>\r\n  );\r\n\r\n  const onRowReorder = (e: any) => {\r\n    setDirty(true);\r\n    setItem({ ...item, items: e.value });\r\n  };\r\n\r\n  const tableFooter = (\r\n    <div className=\"grid text-right\">\r\n      <div className=\"col-9\">&nbsp;</div>\r\n      <div className=\"col-3\">\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Items Total:</div>\r\n              <div className=\"col\">{item.subTotal?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Tax:</div>\r\n              <div className=\"col\">{item.taxTotal?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <div className=\"grid\">\r\n              <div className=\"col\">Grand Total:</div>\r\n              <div className=\"col\">{item.total?.toFixed(2)}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const onSaveClick = async () => {\r\n    if (subtitle !== \"Edit\") {\r\n      item.id = uuidv4();\r\n    }\r\n\r\n    dispatch(invoiceActions.updateInvoice(item));\r\n    setTimeout(() => {\r\n      dispatch(invoiceActions.getInvoices());\r\n    }, 300);\r\n    navigate(navigateTo);\r\n  };\r\n\r\n  const onCancelClick = async () => {\r\n    navigate(navigateTo);\r\n  };\r\n\r\n  const onPrintClick = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h3 className=\"caption\">Invoice: {subtitle}</h3>\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">\r\n            <span className=\"field-required\">*</span> - Required field\r\n          </div>\r\n        </div>\r\n        <Card>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <h3>Invoice</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Subject\">\r\n                    Subject <span className=\"field-required\">*</span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"Subject\"\r\n                    name=\"subject\"\r\n                    maxLength={100}\r\n                    placeholder=\"Subject\"\r\n                    value={item.subject}\r\n                    onChange={onChange}\r\n                  />\r\n                  {(errors as any)?.subject && (\r\n                    <Message severity=\"error\" text=\"Subject is required.\" />\r\n                  )}\r\n                  {(errors as any)?.subjectInvalid && (\r\n                    <Message severity=\"error\" text=\"Subject already exists.\" />\r\n                  )}\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"SalesOrder\">Sales Order</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"p-fixed-switch\">\r\n                    <Dropdown\r\n                      id=\"SalesOrder\"\r\n                      name=\"salesOrderId\"\r\n                      options={salesOrders}\r\n                      optionLabel=\"subject\"\r\n                      optionValue=\"id\"\r\n                      value={item.salesOrderId}\r\n                      onChange={onChange}\r\n                      className=\"p-combobox\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"CustomerNo\">Customer No</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"CustomerNo\"\r\n                    name=\"customerNo\"\r\n                    maxLength={100}\r\n                    value={item.customerNo}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Account\">Account</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Dropdown\r\n                    id=\"Account\"\r\n                    name=\"accountId\"\r\n                    options={accounts}\r\n                    optionLabel=\"name\"\r\n                    optionValue=\"id\"\r\n                    value={item.accountId}\r\n                    onChange={onChange}\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"PurchaseOrder\">Purchase Order</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"PurchaseOrder\"\r\n                    name=\"purchaseOrder\"\r\n                    maxLength={200}\r\n                    value={item.purchaseOrder}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Contact\">Contact</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Dropdown\r\n                    id=\"Contact\"\r\n                    name=\"contactId\"\r\n                    options={contacts}\r\n                    optionLabel=\"lastName\"\r\n                    optionValue=\"id\"\r\n                    value={item.contactId}\r\n                    onChange={onChange}\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"InvoiceDate\">Invoice Date</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Calendar\r\n                    id=\"InvoiceDate\"\r\n                    name=\"invoiceDate\"\r\n                    value={convertStringToDate(item.invoiceDate)}\r\n                    onChange={onChange}\r\n                    showButtonBar\r\n                    showIcon\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"DueDate\">Due Date</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Calendar\r\n                    id=\"DueDate\"\r\n                    name=\"dueDate\"\r\n                    value={convertStringToDate(item.dueDate)}\r\n                    onChange={onChange}\r\n                    showButtonBar\r\n                    showIcon\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"ExciseDuty\">Excise Duty</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputNumber\r\n                    id=\"ExciseDuty\"\r\n                    name=\"exciseDuty\"\r\n                    value={item.exciseDuty}\r\n                    onValueChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Status\">Status</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Dropdown\r\n                    id=\"Status\"\r\n                    name=\"status\"\r\n                    options={statusData}\r\n                    value={item.status}\r\n                    onChange={onChange}\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"SalesCommission\">Sales Commission</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputNumber\r\n                    id=\"SalesCommission\"\r\n                    name=\"salesCommission\"\r\n                    value={item.salesCommission}\r\n                    onValueChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Opportunity\">Opportunity</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"p-fixed-switch\">\r\n                    <Dropdown\r\n                      id=\"Opportunity\"\r\n                      name=\"opportunityId\"\r\n                      options={opportunities}\r\n                      optionLabel=\"name\"\r\n                      optionValue=\"id\"\r\n                      value={item.opportunityId}\r\n                      onChange={onChange}\r\n                      className=\"p-combobox\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"Currency\">\r\n                    Currency <span className=\"field-required\">*</span>\r\n                  </label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Dropdown\r\n                    id=\"Currency\"\r\n                    name=\"currencyId\"\r\n                    options={currencies}\r\n                    optionLabel=\"name\"\r\n                    optionValue=\"id\"\r\n                    value={item.currencyId}\r\n                    onChange={onChange}\r\n                    className=\"p-combobox\"\r\n                  />\r\n                  {(errors as any)?.currencyId && (\r\n                    <Message severity=\"error\" text=\"Currency is required.\" />\r\n                  )}\r\n                </div>\r\n                <div className=\"col-fixed p-fixed hidden-xs\">&nbsp;</div>\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"AssignedTo\">Assigned To</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Dropdown\r\n                    id=\"AssignedTo\"\r\n                    name=\"assignedUserId\"\r\n                    options={users}\r\n                    optionLabel=\"lastName\"\r\n                    optionValue=\"id\"\r\n                    value={item.assignedUserId}\r\n                    onChange={onChange}\r\n                    className=\"p-combobox\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">&nbsp;</div>\r\n        </div>\r\n        <Card>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <h3>Address</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col\">\r\n              <h4>Billing Address</h4>\r\n            </div>\r\n            <div className=\"col-fixed p-fixed-10 hidden-xs\">&nbsp;</div>\r\n            <div className=\"col hidden-xs\">\r\n              <h4>Shipping Address</h4>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"BillingStreet\">Street</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"BillingStreet\"\r\n                    name=\"billingAddressStreet\"\r\n                    maxLength={150}\r\n                    value={item.billingAddressStreet}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed-10 hidden-xs\">&nbsp;</div>\r\n                <div className=\"col hidden-xs\">\r\n                  <label htmlFor=\"ShippingStreet1\">Street</label>\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <InputText\r\n                    id=\"ShippingStreet1\"\r\n                    name=\"shippingAddressStreet\"\r\n                    maxLength={150}\r\n                    value={item.shippingAddressStreet}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"BillingCity\">City</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"BillingCity\"\r\n                    name=\"billingAddressCity\"\r\n                    maxLength={100}\r\n                    value={item.billingAddressCity}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed-10 hidden-xs\">\r\n                  <Button\r\n                    icon=\"pi pi-arrow-circle-right\"\r\n                    className=\"p-button-rounded p-button-text p-button-lg\"\r\n                    tooltip=\"Copy Billing Address\"\r\n                    onClick={onCopyBillingClick}\r\n                  />\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <label htmlFor=\"ShippingCity1\">City</label>\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <InputText\r\n                    id=\"ShippingCity1\"\r\n                    name=\"shippingAddressCity\"\r\n                    maxLength={100}\r\n                    value={item.shippingAddressCity}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"BillingState\">State</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"BillingState\"\r\n                    name=\"billingAddressState\"\r\n                    maxLength={100}\r\n                    value={item.billingAddressState}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed-10 hidden-xs\">&nbsp;</div>\r\n                <div className=\"col hidden-xs\">\r\n                  <label htmlFor=\"ShippingState1\">State</label>\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <InputText\r\n                    id=\"ShippingState1\"\r\n                    name=\"shippingAddressState\"\r\n                    maxLength={100}\r\n                    value={item.shippingAddressState}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"BillingPostalCode\">Postal Code</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"BillingPostalCode\"\r\n                    name=\"billingAddressPostalcode\"\r\n                    maxLength={20}\r\n                    value={item.billingAddressPostalcode}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed-10 hidden-xs\">\r\n                  <Button\r\n                    icon=\"pi pi-arrow-circle-left\"\r\n                    className=\"p-button-rounded p-button-text p-button-lg\"\r\n                    tooltip=\"Copy Shipping Address\"\r\n                    onClick={onCopyShippingClick}\r\n                  />\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <label htmlFor=\"ShippingPostalCode1\">Postal Code</label>\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <InputText\r\n                    id=\"ShippingPostalCode1\"\r\n                    name=\"shippingAddressPostalcode\"\r\n                    type=\"text\"\r\n                    maxLength={20}\r\n                    value={item.shippingAddressPostalcode}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <label htmlFor=\"BillingCountry\">Country</label>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <InputText\r\n                    id=\"BillingCountry\"\r\n                    name=\"billingAddressCountry\"\r\n                    maxLength={255}\r\n                    value={item.billingAddressCountry}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-fixed p-fixed-10 hidden-xs\">&nbsp;</div>\r\n                <div className=\"col hidden-xs\">\r\n                  <label htmlFor=\"ShippingCountry1\">Country</label>\r\n                </div>\r\n                <div className=\"col hidden-xs\">\r\n                  <InputText\r\n                    id=\"ShippingCountry1\"\r\n                    name=\"shippingAddressCountry\"\r\n                    maxLength={255}\r\n                    value={item.shippingAddressCountry}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col\">\r\n                  <Button\r\n                    icon=\"pi pi-arrow-circle-down\"\r\n                    className=\"p-button-rounded p-button-text p-button-lg\"\r\n                    tooltip=\"Copy Billing Address\"\r\n                    onClick={onCopyBillingClick}\r\n                  />\r\n                </div>\r\n                <div className=\"col\">\r\n                  <Button\r\n                    icon=\"pi pi-arrow-circle-up\"\r\n                    className=\"p-button-rounded p-button-text p-button-lg\"\r\n                    tooltip=\"Copy Shipping Address\"\r\n                    onClick={onCopyShippingClick}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <h4>Shipping Address</h4>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"ShippingStreet2\">Street</label>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <InputText\r\n                    id=\"ShippingStreet2\"\r\n                    name=\"shippingAddressStreet\"\r\n                    maxLength={150}\r\n                    value={item.shippingAddressStreet}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"ShippingCity2\">City</label>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <InputText\r\n                    id=\"ShippingCity2\"\r\n                    name=\"shippingAddressCity\"\r\n                    maxLength={100}\r\n                    value={item.shippingAddressCity}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"ShippingState2\">State</label>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <InputText\r\n                    id=\"ShippingState2\"\r\n                    name=\"shippingAddressState\"\r\n                    maxLength={100}\r\n                    value={item.shippingAddressState}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"ShippingPostalCode2\">Postal Code</label>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <InputText\r\n                    id=\"ShippingPostalCode2\"\r\n                    name=\"shippingAddressPostalcode\"\r\n                    maxLength={20}\r\n                    value={item.shippingAddressPostalcode}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 hidden-sm hidden-md hidden-lg\">\r\n              <div className=\"grid\">\r\n                <div className=\"col-12\">\r\n                  <label htmlFor=\"ShippingCountry2\">Country</label>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <InputText\r\n                    id=\"ShippingCountry2\"\r\n                    name=\"shippingAddressCountry\"\r\n                    maxLength={255}\r\n                    value={item.shippingAddressCountry}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">&nbsp;</div>\r\n        </div>\r\n        <Card>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <h3>Terms &amp; Conditions</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <InputTextarea\r\n                name=\"termsConditions\"\r\n                value={item.termsConditions}\r\n                onChange={onChange}\r\n                style={{ width: 280 }}\r\n                autoResize\r\n              />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">&nbsp;</div>\r\n        </div>\r\n        <Card>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <h3>Description</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <InputTextarea\r\n                name=\"description\"\r\n                value={item.description}\r\n                onChange={onChange}\r\n                style={{ width: 280 }}\r\n                autoResize\r\n              />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <Card>\r\n          <div className=\"grid\">\r\n            <div className=\"col text-left\">\r\n              <h3>Items</h3>\r\n            </div>\r\n            <div className=\"col text-right\">\r\n              <Button\r\n                icon=\"pi pi-plus\"\r\n                className=\"p-button-rounded p-button-outlined\"\r\n                tooltip=\"Add Invoice Item\"\r\n                onClick={onAddClick}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <div className=\"col-12\">\r\n              <DataTable\r\n                value={item.items}\r\n                editMode=\"row\"\r\n                dataKey=\"id\"\r\n                onRowEditComplete={onRowEditComplete}\r\n                reorderableRows\r\n                onRowReorder={onRowReorder}\r\n                footer={tableFooter}\r\n              >\r\n                <Column rowReorder style={{ width: \"3em\" }} />\r\n                <Column\r\n                  field=\"productId\"\r\n                  header=\"Item Name\"\r\n                  body={productBodyTemplate}\r\n                  editor={(options) => productEditor(options)}\r\n                ></Column>\r\n                <Column\r\n                  field=\"comment\"\r\n                  header=\"Comment\"\r\n                  editor={(options) => textEditor(options)}\r\n                ></Column>\r\n                <Column\r\n                  field=\"quantity\"\r\n                  header=\"Quantity\"\r\n                  editor={(options) => numberEditor(options)}\r\n                ></Column>\r\n                <Column\r\n                  field=\"listPrice\"\r\n                  header=\"Selling Price\"\r\n                  body={priceBodyTemplate}\r\n                  editor={(options) => numberEditor(options)}\r\n                ></Column>\r\n                <Column\r\n                  field=\"discountType\"\r\n                  header=\"Discount\"\r\n                  body={discountBodyTemplate}\r\n                  editor={(options) => discountEditor(options)}\r\n                ></Column>\r\n                <Column\r\n                  field=\"total\"\r\n                  header=\"Total\"\r\n                  body={totalBodyTemplate}\r\n                ></Column>\r\n                <Column\r\n                  rowEditor\r\n                  headerStyle={{ minWidth: \"2rem\" }}\r\n                  bodyStyle={{ textAlign: \"center\" }}\r\n                ></Column>\r\n                <Column\r\n                  body={actionBodyTemplate}\r\n                  style={{ minWidth: \"2rem\", textAlign: \"center\" }}\r\n                ></Column>\r\n              </DataTable>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <div className=\"grid\">\r\n          <div className=\"col-12\">&nbsp;</div>\r\n          <div className=\"col-12\">\r\n            <Button\r\n              icon=\"pi pi-check\"\r\n              className=\"p-button-rounded p-button-outlined\"\r\n              tooltip=\"Save\"\r\n              disabled={!valid}\r\n              onClick={onSaveClick}\r\n            />\r\n            &nbsp; &nbsp;\r\n            <Button\r\n              icon=\"pi pi-times\"\r\n              className=\"p-button-rounded p-button-outlined\"\r\n              tooltip=\"Back to List\"\r\n              onClick={onCancelClick}\r\n            />\r\n            &nbsp; &nbsp;\r\n            <Button\r\n              icon=\"pi pi-print\"\r\n              className=\"p-button-rounded p-button-outlined\"\r\n              tooltip=\"Print\"\r\n              onClick={onPrintClick}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Dialog\r\n          visible={deleteDialog}\r\n          style={{ width: \"450px\" }}\r\n          header=\"Confirm\"\r\n          modal\r\n          footer={deleteDialogFooter}\r\n          onHide={hideDeleteDialog}\r\n        >\r\n          <div className=\"confirmation-content\">\r\n            <i\r\n              className=\"pi pi-exclamation-triangle mr-3\"\r\n              style={{ fontSize: \"2rem\" }}\r\n            />\r\n            <strong>Are you sure you want to delete this item?</strong>\r\n          </div>\r\n        </Dialog>\r\n      </div>\r\n      <div className=\"p-hidden\">\r\n        <div ref={componentRef}>\r\n          <InvoicePrint\r\n            item={item}\r\n            accounts={accounts}\r\n            currencies={currencies}\r\n            products={products}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InvoiceEdit;\r\n","export const ERROR_MESSAGE_BAD =\r\n  \"Something bad happened. Please try again later.\";\r\nexport const ERROR_MESSAGE_EMAIL = \"Email is invalid.\";\r\nexport const ERROR_MESSAGE_CONFIRM_PASSWORD = \"Confirm Password is required.\";\r\nexport const ERROR_MESSAGE_PASSWORD_REENTER =\r\n  \"Please re-enter passwords. The passwords do not match.\";\r\nexport const TERMS_CONDITIONS =\r\n  \" - Unless otherwise agreed in writing by the supplier all invoices are payable within thirty (30) days of the date of invoice, in the currency of the invoice, drawn on a bank based in the USA or by such other method as is agreed in advance by the Supplier.\\n- All prices are not inclusive of VAT which shall be payable in addition by the Customer at the applicable rate.\";\r\n","export const leadSourceData = [\r\n  \"Cold Call\",\r\n  \"Existing Customer\",\r\n  \"Self Generated\",\r\n  \"Employee\",\r\n  \"Partner\",\r\n  \"Public Relations\",\r\n  \"Direct Mail\",\r\n  \"Conference\",\r\n  \"Trade Show\",\r\n  \"Web Site\",\r\n  \"Word of mouth\",\r\n  \"Email\",\r\n  \"Campaign\",\r\n  \"Other\",\r\n];\r\n\r\nexport const discounts = [\r\n  { value: \"Zero Discount\", icon: \"fas fa-circle\" },\r\n  { value: \"% Price\", icon: \"fas fa-percent\" },\r\n  { value: \"Direct Price Reduction\", icon: \"fas fa-arrow-down\" },\r\n];\r\n\r\nexport const statusData = [\"Created\", \"Approved\", \"Delivered\", \"Cancelled\"];\r\n","import { ICurrency } from \"../models/currency\";\r\n\r\nexport const emailRegex =\r\n  /^([a-zA-Z0-9_\\-+'])+(\\.[a-zA-Z0-9_\\-+']+)*@((([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,15}))\\s*$/i;\r\n\r\nexport const convertDateToString = (date: any): string => {\r\n  return date ? new Date(date).toISOString() : \"\";\r\n};\r\n\r\nexport const convertStringToDate = (\r\n  value: string | undefined\r\n): Date | undefined => {\r\n  return value ? new Date(value) : undefined;\r\n};\r\n\r\nexport const convertToNumber = (value: any) => {\r\n  const num = parseFloat(value);\r\n  return isNaN(num) ? undefined : num;\r\n};\r\n\r\nexport const convertCurrency = (\r\n  oldId: string,\r\n  newId: string,\r\n  value: any,\r\n  currencyInfo: ICurrency[]\r\n): number => {\r\n  let result = convertToNumber(value);\r\n  if (!result) {\r\n    return value;\r\n  }\r\n\r\n  let currency = currencyInfo.find((x) => x.id === oldId);\r\n  if (\r\n    currency &&\r\n    currency.conversionRate &&\r\n    !isNaN(currency.conversionRate) &&\r\n    currency.conversionRate > 0.0\r\n  ) {\r\n    result /= currency.conversionRate;\r\n  }\r\n\r\n  currency = currencyInfo.find((x) => x.id === newId);\r\n  if (\r\n    currency &&\r\n    currency.conversionRate &&\r\n    !isNaN(currency.conversionRate) &&\r\n    currency.conversionRate > 0.0\r\n  ) {\r\n    result *= currency.conversionRate;\r\n  }\r\n\r\n  return parseFloat(result.toFixed(2));\r\n};\r\n"],"names":["props","priceBodyTemplate","rowData","_rowData$listPrice","_jsx","className","children","listPrice","toFixed","discountBodyTemplate","concat","discountType","discount","totalBodyTemplate","_rowData$total","total","tableFooter","item","_item$subTotal","_item$taxTotal","_item$total","_jsxs","subTotal","taxTotal","currencyId","_Fragment","_convertStringToDate","id","_objectSpread","accounts","account","find","x","accountId","name","currencies","currency","symbol","products","items","map","result","product","p","productId","htmlFor","subject","Date","toLocaleDateString","convertStringToDate","dueDate","billingAddressStreet","billingAddressCity","billingAddressState","billingAddressPostalcode","billingAddressCountry","shippingAddressStreet","shippingAddressCity","shippingAddressState","shippingAddressPostalcode","shippingAddressCountry","DataTable","value","showGridlines","footer","Column","field","header","body","description","termsConditions","getContent","navigateTo","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","subtitle","setSubtitle","_useState3","salesOrderId","customerNo","opportunityId","contactId","invoiceDate","purchaseOrder","exciseDuty","salesCommission","accountName","status","assignedUserId","assignedUserLastName","_useState4","setItem","_useState5","_useState6","dirty","setDirty","_useState7","_useState8","valid","setValid","_useState9","_useState10","errors","setErrors","_useState11","_useState12","deleteDialog","setDeleteDialog","_useState13","_useState14","inventoryId","setInventoryId","_useState15","_useState16","activeProducts","setActiveProducts","params","useParams","memo","useRef","componentRef","_useAppSelector","useAppSelector","state","invoices","invoice","isFetching","isError","contacts","opportunities","salesOrders","users","isProfile","profile","shallowEqual","_useAppSelector2","dispatch","useAppDispatch","useEffect","current","accountActions","getAccounts","contactActions","getContacts","currencyActions","getCurrencies","opportunityActions","getOpportunities","productActions","getProducts","salesOrderActions","getSalesOrders","userActions","getUsers","mode","invoiceActions","getInvoiceById","TERMS_CONDITIONS","length","productItems","filter","active","isSubjectValid","useCallback","_x$subject","toLowerCase","_x$subject2","trim","onChange","e","_e$target","target","tname","tvalue","_defineProperty","convertDateToString","_objectSpread3","itemsTotal","itemsTax","soItems","i","purchaseCost","convertCurrency","tax","push","convertAmounts","_objectSpread5","user","lastName","isValidSubject","subjectInvalid","toString","onCopyBillingClick","onCopyShippingClick","productEditor","options","Dropdown","optionLabel","optionValue","rowIndex","unitPrice","_toConsumableArray","editorCallback","onProductEditorChange","placeholder","itemTemplate","option","discountEditor","_options$rowData","MultiStateCheckbox","discounts","onDiscountTypeEditorChange","tooltip","InputNumber","onValueChange","onDiscountEditorChange","size","numberEditor","confirmDeleteItem","hideDeleteDialog","deleteItem","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_item$items","invItems","_item$items2","deltemTotal","delItemTax","delItem","wrap","_context","prev","next","stop","apply","arguments","deleteDialogFooter","Button","label","icon","onClick","onSaveClick","_ref2","_callee2","_context2","uuidv4","updateInvoice","setTimeout","getInvoices","onCancelClick","_ref3","_callee3","_context3","onPrintClick","useReactToPrint","content","Card","InputText","maxLength","Message","severity","text","Calendar","showButtonBar","showIcon","statusData","type","InputTextarea","style","width","autoResize","newItem","quantity","taxes","newItemTotal","newItemTax","forEach","editMode","dataKey","onRowEditComplete","newData","index","data","itemTotal","itemTax","reorderableRows","onRowReorder","rowReorder","editor","textEditor","rowEditor","headerStyle","minWidth","bodyStyle","textAlign","disabled","Dialog","visible","modal","onHide","fontSize","ref","InvoicePrint","ERROR_MESSAGE_BAD","ERROR_MESSAGE_EMAIL","ERROR_MESSAGE_CONFIRM_PASSWORD","ERROR_MESSAGE_PASSWORD_REENTER","leadSourceData","emailRegex","date","toISOString","undefined","convertToNumber","num","parseFloat","isNaN","oldId","newId","currencyInfo","conversionRate"],"sourceRoot":""}