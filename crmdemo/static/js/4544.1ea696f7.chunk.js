"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[4544],{4544:function(e,t,s){s.r(t);var n=s(4165),i=s(5861),o=s(9439),r=s(7313),c=s(8467),a=s(3499),l=s(3479),u=s(3103),d=s(4242),p=s(7220),m=s(2014),h=s(3709),f=s(1315),x=s(9856),b=s(6417);t.default=function(){var e={id:""},t=(0,r.useState)([e]),s=(0,o.Z)(t,2),j=s[0],N=s[1],g=(0,r.useState)(e),k=(0,o.Z)(g,2),v=k[0],y=k[1],C=(0,r.useState)(""),P=(0,o.Z)(C,2),w=P[0],S=P[1],z=(0,r.useState)(!1),Z=(0,o.Z)(z,2),F=Z[0],R=Z[1],U=(0,c.s0)(),E=(0,r.useRef)(null),I=(0,r.useRef)(null),J=(0,f.C)((function(e){return e.products.products}),h.wU),T=(0,f.T)();(0,r.useEffect)((function(){T(x.Jh.getProducts())}),[T]);var q=function(){R(!1)},A=function(){var t=(0,i.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T(x.Jh.deleteProduct(v.id)),q(),y(e),I.current.show({severity:"success",summary:"Successful",detail:"Item has been deleted",life:3e3}),setTimeout((function(){T(x.Jh.getProducts())}),300);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=(0,b.jsx)("div",{className:"table-header",children:(0,b.jsxs)("span",{className:"p-input-icon-left",children:[(0,b.jsx)("i",{className:"pi pi-search"}),(0,b.jsx)(p.o,{type:"search",onInput:function(e){E.current.reset(),S(e.target.value)},placeholder:"Search..."})]})}),V=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:q}),(0,b.jsx)(a.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:A})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.F,{ref:I}),(0,b.jsxs)("div",{className:"grid pt-2",children:[(0,b.jsx)("div",{className:"col text-left",children:(0,b.jsx)("h3",{className:"caption",children:"Products"})}),(0,b.jsxs)("div",{className:"col text-right",children:[(0,b.jsx)(a.z,{icon:"pi pi-plus",className:"p-button-rounded p-button-outlined",tooltip:"Add Product",onClick:function(){U("/product/add")}}),"\xa0",(0,b.jsx)(a.z,{icon:"pi pi-external-link",className:"p-button-rounded p-button-outlined",tooltip:"Export Products",onClick:function(){E.current.exportCSV()}})]})]}),(0,b.jsxs)(u.w,{ref:E,dataKey:"id",value:J,paginator:!0,rows:10,rowsPerPageOptions:[10,25,50,100],selectionMode:"single",selection:j,onSelectionChange:function(e){return N(e.value)},resizableColumns:!0,globalFilter:w,header:Q,showGridlines:!0,children:[(0,b.jsx)(l.s,{field:"name",header:"Product Name",sortable:!0}),(0,b.jsx)(l.s,{field:"productCode",header:"Part Number",sortable:!0}),(0,b.jsx)(l.s,{field:"commissionRate",header:"Commission Rate (%)",sortable:!0}),(0,b.jsx)(l.s,{field:"qtyInStock",header:"Qty. in Stock",sortable:!0}),(0,b.jsx)(l.s,{field:"qtyPerUnit",header:"Qty / Unit",sortable:!0}),(0,b.jsx)(l.s,{field:"unitPrice",header:"Unit Price",sortable:!0}),(0,b.jsx)(l.s,{body:function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-outlined mr-2",tooltip:"Edit",onClick:function(){return function(e){U("/product/edit/".concat(e.id))}(e)}}),(0,b.jsx)(a.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-outlined",tooltip:"Delete",onClick:function(){return function(e){y(e),R(!0)}(e)}})]})},exportable:!1,style:{minWidth:"8rem"}})]}),(0,b.jsx)("p",{children:"* Table columns are sortable and resizable."}),(0,b.jsx)(d.V,{visible:F,style:{width:"450px"},header:"Confirm",modal:!0,footer:V,onHide:q,children:(0,b.jsxs)("div",{className:"confirmation-content",children:[(0,b.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),(0,b.jsx)("strong",{children:"Are you sure you want to delete this item?"})]})})]})}}}]);