"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[8575],{8575:function(e,t,r){r.r(t);var n=r(4165),i=r(5861),o=r(4942),a=r(1413),s=r(9439),c=r(7313),l=r(8467),u=r(3499),d=r(5973),m=r(244),f=r(7220),v=r(364),p=r(3709),g=r(1315),h=r(6298),y=r(2549),b=r(6417);t.default=function(){var e="/glAccounts",t=(0,l.s0)(),r=(0,c.useState)("Create"),x=(0,s.Z)(r,2),j=x[0],N=x[1],E=(0,c.useState)({id:"",name:"",sortOrder:0}),O=(0,s.Z)(E,2),w=O[0],S=O[1],Z=(0,c.useState)(!1),A=(0,s.Z)(Z,2),G=A[0],C=A[1],P=(0,c.useState)(!1),L=(0,s.Z)(P,2),k=L[0],U=L[1],D=(0,c.useState)({}),T=(0,s.Z)(D,2),R=T[0],I=T[1],J=(0,l.UO)(),X=(0,c.useRef)(!0),q=(0,g.C)((function(e){return[e.glAccounts.glAccount,e.glAccounts.isFetching,e.glAccounts.isError,e.glAccounts.glAccounts]}),p.wU),F=(0,s.Z)(q,4),V=F[0],M=F[1],_=F[2],z=F[3],B=(0,g.T)();(0,c.useEffect)((function(){if(X.current&&(X.current=!1,"edit"===J.mode)){N("Edit");var e=J.id;e&&B(h.dT.getGLAccountById(e))}}),[J,B]),(0,c.useEffect)((function(){"edit"!==J.mode||w.id===(null===V||void 0===V?void 0:V.id)||M||_||S(V)}),[J,w,V,M,_]);var K=(0,c.useCallback)((function(e){var t=!0;return 0===w.id.length?z.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(t=!1):z.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&t.id!==w.id}))&&(t=!1),t}),[w.id,z]);(0,c.useEffect)((function(){if(G){for(var e=!0,t=0,r=Object.entries(w);t<r.length;t++){var n=(0,s.Z)(r[t],2),i=n[0],o=n[1];if("id"!==i)if("string"===typeof o){if(0===(null===o||void 0===o?void 0:o.trim().length)){e=!1;break}}else if("number"===typeof o&&(o||0)<0){e=!1;break}}U(e&&K(w.name||""))}}),[G,w,K]);var Y=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"Edit"!==j&&(w.id=(0,y.Z)()),B(h.dT.updateGLAccount(w)),setTimeout((function(){B(h.dT.getGLAccounts())}),300),t(e);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),H=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t(e);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"caption",children:["GL Account: ",j]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"GL Account"})})}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"GLAccountName",children:["GL Account Name ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(f.o,{id:"GLAccountName",name:"name",maxLength:200,value:w.name,onChange:function(e){C(!0);var t=e.target,r=t.name,n=t.value;S((0,a.Z)((0,a.Z)({},w),{},(0,o.Z)({},r,n)));var i=K(n);I((0,a.Z)((0,a.Z)({},R),{},(0,o.Z)({nameInvalid:!i},r,!n||0===n.toString().trim().length)))}}),(null===R||void 0===R?void 0:R.name)&&(0,b.jsx)(v.v,{severity:"error",text:"GL Account Name is required."}),(null===R||void 0===R?void 0:R.nameInvalid)&&(0,b.jsx)(v.v,{severity:"error",text:"GL Account Name already exists."})]}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"SortOrder",children:["Sort Order ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(m.R,{id:"SortOrder",name:"sortOrder",value:w.sortOrder,maxFractionDigits:0,onValueChange:function(e){return function(e){C(!0);var t=null===e.value?-1:e.value;S((0,a.Z)((0,a.Z)({},w),{},{sortOrder:t})),I((0,a.Z)((0,a.Z)({},R),{},{sortOrder:t<0}))}(e)}}),(null===R||void 0===R?void 0:R.sortOrder)&&(0,b.jsx)(v.v,{severity:"error",text:"Sort Order is required."})]})]})})})]}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:"\xa0"}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)(u.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!k,onClick:Y}),"\xa0 \xa0",(0,b.jsx)(u.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:H})]})]})]})}},5973:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(7313),i=r(5234),o=r(7371),a=r(1742),s=o.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),c=n.forwardRef((function(e,t){var r=n.useContext(a.Ou),o=s.getProps(e,r),c=n.useRef(t),l=s.setMetaData({props:o}).ptm;n.useEffect((function(){i.gb.combinedRefs(c,t)}),[c,t]);var u=(0,i.dG)({id:o.id,ref:c,style:o.style,className:(0,i.AK)("p-card p-component",o.className)},s.getOtherProps(o),l("root")),d=function(){var e=(0,i.dG)({className:"p-card-header"},l("header"));return o.header?n.createElement("div",e,i.gb.getJSXElement(o.header,o)):null}(),m=function(){var e=(0,i.dG)({className:"p-card-title"},l("title")),t=o.title&&n.createElement("div",e,i.gb.getJSXElement(o.title,o)),r=(0,i.dG)({className:"p-card-subtitle"},l("subTitle")),a=o.subTitle&&n.createElement("div",r,i.gb.getJSXElement(o.subTitle,o)),s=(0,i.dG)({className:"p-card-content"},l("content")),c=o.children&&n.createElement("div",s,o.children),u=(0,i.dG)({className:"p-card-footer"},l("footer")),d=o.footer&&n.createElement("div",u,i.gb.getJSXElement(o.footer,o)),m=(0,i.dG)({className:"p-card-body"},l("body"));return n.createElement("div",m,t,a,c,d)}();return n.createElement("div",u,d,m)}));c.displayName="Card"},364:function(e,t,r){r.d(t,{v:function(){return g}});var n=r(7313),i=r(5234),o=r(7371),a=r(4611),s=r(4229),c=r(886),l=r(3210),u=r(1742);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function f(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=o.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=n.memo(n.forwardRef((function(e,t){var r=n.useContext(u.Ou),o=v.getProps(e,r),d=n.useRef(null),m=v.setMetaData({props:o}).ptm;n.useImperativeHandle(t,(function(){return{props:o,getElement:function(){return d.current}}}));var g=(0,i.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===o.severity,"p-inline-message-warn":"warn"===o.severity,"p-inline-message-error":"error"===o.severity,"p-inline-message-success":"success"===o.severity,"p-inline-message-icon-only":!o.text},o.className),h=function(){if(o.content)return i.gb.getJSXElement(o.content,o);var e=i.gb.getJSXElement(o.text,o),t=(0,i.dG)({className:"p-inline-message-icon"},m("icon")),r=o.icon;if(!r)switch(o.severity){case"info":r=n.createElement(s.u,t);break;case"warn":r=n.createElement(a.L,t);break;case"error":r=n.createElement(c.x,t);break;case"success":r=n.createElement(l.n,t)}var u=i.Cz.getJSXIcon(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),{props:o}),d=(0,i.dG)({className:"p-inline-message-text"},m("text"));return n.createElement(n.Fragment,null,u,n.createElement("span",d,e))}(),y=(0,i.dG)({id:o.id,ref:d,className:g,style:o.style,role:"alert","aria-live":"polite"},v.getOtherProps(o),m("root"));return n.createElement("div",y,h)})));g.displayName="Message"},2549:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).slice(1));function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var u=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return l(n)}}}]);