"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[9407],{9407:function(e,n,t){t.r(n);var s=t(4165),r=t(5861),i=t(4942),l=t(1413),a=t(9439),o=t(7313),c=t(8467),d=t(3499),u=t(5973),m=t(4755),h=t(7220),p=t(9094),v=t(364),f=t(3709),x=t(1315),g=t(6298),j=t(3740),y=t(5370),N=t(2549),b=t(6417);n.default=function(){var e="/vendors",n=(0,c.s0)(),t=(0,o.useState)("Create"),E=(0,a.Z)(t,2),C=E[0],w=E[1],P=(0,o.useState)({id:"",name:"",phone:"",email:"",website:"",glAccountId:"",category:"",street:"",city:"",state:"",pobox:"",postalcode:"",country:"",description:"",assignedUserId:"",assignedUserLastName:""}),O=(0,a.Z)(P,2),S=O[0],I=O[1],L=(0,o.useState)(!1),V=(0,a.Z)(L,2),Z=V[0],F=V[1],U=(0,o.useState)(!1),R=(0,a.Z)(U,2),k=R[0],A=R[1],D=(0,o.useState)({}),T=(0,a.Z)(D,2),G=T[0],B=T[1],z=(0,c.UO)(),K=(0,o.useRef)(!0),H=(0,x.C)((function(e){return[e.vendors.vendor,e.vendors.isFetching,e.vendors.isError,e.glAccounts.glAccounts,e.users.users,e.vendors.vendors]}),f.wU),J=(0,a.Z)(H,6),X=J[0],M=J[1],_=J[2],q=J[3],Y=J[4],W=J[5],Q=(0,x.T)();(0,o.useEffect)((function(){if(K.current&&(K.current=!1,Q(g.dT.getGLAccounts()),Q(y.hI.getUsers()),"edit"===z.mode)){w("Edit");var e=z.id;e&&Q(j.Ne.getVendorById(e))}}),[z,Q]),(0,o.useEffect)((function(){"edit"!==z.mode||S.id===(null===X||void 0===X?void 0:X.id)||M||_||I(X)}),[z,S,X,M,_]);var $=(0,o.useCallback)((function(e){var n=!0;return 0===S.id.length?W.find((function(n){var t;return(null===(t=n.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(n=!1):W.find((function(n){var t;return(null===(t=n.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&n.id!==S.id}))&&(n=!1),n}),[S.id,W]);(0,o.useEffect)((function(){Z&&A((S.name||"").trim().length>0&&$(S.name||""))}),[Z,S,$]);var ee=function(e){F(!0);var n=e.target,t=n.name,s=n.value;if("assignedUserId"===t){var r,a=Y.find((function(e){return e.id===s}));if(a)I((0,l.Z)((0,l.Z)({},S),{},(r={},(0,i.Z)(r,t,s),(0,i.Z)(r,"assignedUserLastName",a.lastName),r)))}else I((0,l.Z)((0,l.Z)({},S),{},(0,i.Z)({},t,s)));if("name"===t){var o=$(s);B((0,l.Z)((0,l.Z)({},G),{},(0,i.Z)({nameInvalid:!o},t,!s||0===s.toString().trim().length)))}},ne=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Edit"!==C&&(S.id=(0,N.Z)()),Q(j.Ne.updateVendor(S)),setTimeout((function(){Q(j.Ne.getVendors())}),300),n(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"caption",children:["Vendor: ",C]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,b.jsxs)(u.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Vendor"})})}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"VendorName",children:["Vendor Name ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(h.o,{id:"VendorName",name:"name",maxLength:150,placeholder:"Vendor Name",value:S.name,onChange:ee}),(null===G||void 0===G?void 0:G.name)&&(0,b.jsx)(v.v,{severity:"error",text:"Vendor Name is required."}),(null===G||void 0===G?void 0:G.nameInvalid)&&(0,b.jsx)(v.v,{severity:"error",text:"Vendor Name already exists."})]}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"VendorEmail",children:"Vendor Email"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"VendorEmail",name:"email",maxLength:255,placeholder:"Example jdoe@example.com",value:S.email,onChange:ee})})]})}),(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"VendorPhone",children:"Vendor Phone"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"VendorPhone",name:"phone",maxLength:25,placeholder:"234-567-8901",value:S.phone,onChange:ee})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"GLAccount",children:"GL Account"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(m.L,{id:"GLAccount",name:"glAccountId",options:q,optionLabel:"name",optionValue:"id",value:S.glAccountId,onChange:ee,className:"p-combobox"})})]})}),(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"Website",children:"Website"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"Website",name:"website",maxLength:255,value:S.website,onChange:ee})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"Category",children:"Category"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"Category",name:"category",maxLength:255,value:S.category,onChange:ee})})]})}),(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"AssignedTo",children:"Assigned To"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(m.L,{id:"AssignedTo",name:"assignedUserId",options:Y,optionLabel:"lastName",optionValue:"id",value:S.assignedUserId,onChange:ee,className:"p-combobox"})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col hidden-xs",children:(0,b.jsx)("div",{className:"p-fixed-switch",children:"\xa0"})})]})})]})]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:"\xa0"})}),(0,b.jsxs)(u.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Address"})})}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"Street",children:"Street"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"Street",name:"street",maxLength:150,value:S.street,onChange:ee})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"POBox",children:"PO Box"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"POBox",name:"pobox",maxLength:150,value:S.pobox,onChange:ee})})]})}),(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"City",children:"City"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"City",name:"city",maxLength:100,value:S.city,onChange:ee})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"State",children:"State"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"State",name:"state",maxLength:100,value:S.state,onChange:ee})})]})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"PostalCode",children:"Postal Code"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"PostalCode",name:"postalcode",maxLength:20,value:S.postalcode,onChange:ee})}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)("label",{htmlFor:"Country",children:"Country"})}),(0,b.jsx)("div",{className:"col",children:(0,b.jsx)(h.o,{id:"Country",name:"country",maxLength:255,value:S.country,onChange:ee})})]})})]})]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:"\xa0"})}),(0,b.jsxs)(u.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Description"})})}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)(p.g,{name:"description",value:S.description,onChange:ee,autoResize:!0})})})]}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:"\xa0"}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)(d.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!k,onClick:ne}),"\xa0 \xa0",(0,b.jsx)(d.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:te})]})]})]})}},5973:function(e,n,t){t.d(n,{Z:function(){return o}});var s=t(7313),r=t(5234),i=t(7371),l=t(1742),a=i.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),o=s.forwardRef((function(e,n){var t=s.useContext(l.Ou),i=a.getProps(e,t),o=s.useRef(n),c=a.setMetaData({props:i}).ptm;s.useEffect((function(){r.gb.combinedRefs(o,n)}),[o,n]);var d=(0,r.dG)({id:i.id,ref:o,style:i.style,className:(0,r.AK)("p-card p-component",i.className)},a.getOtherProps(i),c("root")),u=function(){var e=(0,r.dG)({className:"p-card-header"},c("header"));return i.header?s.createElement("div",e,r.gb.getJSXElement(i.header,i)):null}(),m=function(){var e=(0,r.dG)({className:"p-card-title"},c("title")),n=i.title&&s.createElement("div",e,r.gb.getJSXElement(i.title,i)),t=(0,r.dG)({className:"p-card-subtitle"},c("subTitle")),l=i.subTitle&&s.createElement("div",t,r.gb.getJSXElement(i.subTitle,i)),a=(0,r.dG)({className:"p-card-content"},c("content")),o=i.children&&s.createElement("div",a,i.children),d=(0,r.dG)({className:"p-card-footer"},c("footer")),u=i.footer&&s.createElement("div",d,r.gb.getJSXElement(i.footer,i)),m=(0,r.dG)({className:"p-card-body"},c("body"));return s.createElement("div",m,n,l,o,u)}();return s.createElement("div",d,u,m)}));o.displayName="Card"},9094:function(e,n,t){t.d(n,{g:function(){return u}});var s=t(7313),r=t(8846),i=t(2328),l=t(5234),a=t(7371),o=t(1742);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},c.apply(this,arguments)}var d=a.V.extend({defaultProps:{__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onBeforeInput:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,children:void 0}}),u=s.memo(s.forwardRef((function(e,n){var t=s.useContext(o.Ou),a=d.getProps(e,t),u=s.useRef(n),m=s.useRef(0),h=d.setMetaData({props:a}).ptm,p=function(e){var n=u.current;n&&l.p7.isVisible(n)&&(m.current||(m.current=n.scrollHeight,n.style.overflow="hidden"),(m.current!==n.scrollHeight||e)&&(n.style.height="",n.style.height=n.scrollHeight+"px",parseFloat(n.style.height)>=parseFloat(n.style.maxHeight)?(n.style.overflowY="scroll",n.style.height=n.style.maxHeight):n.style.overflow="hidden",m.current=n.scrollHeight))};s.useEffect((function(){l.gb.combinedRefs(u,n)}),[u,n]),s.useEffect((function(){a.autoResize&&p(!0)}),[a.autoResize]);var v=s.useMemo((function(){return l.gb.isNotEmpty(a.value)||l.gb.isNotEmpty(a.defaultValue)}),[a.value,a.defaultValue]),f=l.gb.isNotEmpty(a.tooltip),x=(0,l.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":a.disabled,"p-filled":v,"p-inputtextarea-resizable":a.autoResize},a.className),g=(0,l.dG)({ref:u,className:x,onFocus:function(e){a.autoResize&&p(),a.onFocus&&a.onFocus(e)},onBlur:function(e){a.autoResize&&p(),a.onBlur&&a.onBlur(e)},onKeyUp:function(e){a.autoResize&&p(),a.onKeyUp&&a.onKeyUp(e)},onKeyDown:function(e){a.onKeyDown&&a.onKeyDown(e),a.keyfilter&&r.F.onKeyPress(e,a.keyfilter,a.validateOnly)},onBeforeInput:function(e){a.onBeforeInput&&a.onBeforeInput(e),a.keyfilter&&r.F.onBeforeInput(e,a.keyfilter,a.validateOnly)},onInput:function(e){var n=e.target;a.autoResize&&p(l.gb.isEmpty(n.value)),a.onInput&&a.onInput(e),l.gb.isNotEmpty(n.value)?l.p7.addClass(n,"p-filled"):l.p7.removeClass(n,"p-filled")},onPaste:function(e){a.onPaste&&a.onPaste(e),a.keyfilter&&r.F.onPaste(e,a.keyfilter,a.validateOnly)}},d.getOtherProps(a),h("root"));return s.createElement(s.Fragment,null,s.createElement("textarea",g),f&&s.createElement(i.u,c({target:u,content:a.tooltip},a.tooltipOptions,{pt:h("tooltip")})))})));u.displayName="InputTextarea"},364:function(e,n,t){t.d(n,{v:function(){return f}});var s=t(7313),r=t(5234),i=t(7371),l=t(4611),a=t(4229),o=t(886),c=t(3210),d=t(1742);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e){var n=function(e,n){if("object"!==u(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,n||"default");if("object"!==u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===u(n)?n:String(n)}function h(e,n,t){return(n=m(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=i.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}var f=s.memo(s.forwardRef((function(e,n){var t=s.useContext(d.Ou),i=p.getProps(e,t),u=s.useRef(null),m=p.setMetaData({props:i}).ptm;s.useImperativeHandle(n,(function(){return{props:i,getElement:function(){return u.current}}}));var f=(0,r.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===i.severity,"p-inline-message-warn":"warn"===i.severity,"p-inline-message-error":"error"===i.severity,"p-inline-message-success":"success"===i.severity,"p-inline-message-icon-only":!i.text},i.className),x=function(){if(i.content)return r.gb.getJSXElement(i.content,i);var e=r.gb.getJSXElement(i.text,i),n=(0,r.dG)({className:"p-inline-message-icon"},m("icon")),t=i.icon;if(!t)switch(i.severity){case"info":t=s.createElement(a.u,n);break;case"warn":t=s.createElement(l.L,n);break;case"error":t=s.createElement(o.x,n);break;case"success":t=s.createElement(c.n,n)}var d=r.Cz.getJSXIcon(t,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n),{props:i}),u=(0,r.dG)({className:"p-inline-message-text"},m("text"));return s.createElement(s.Fragment,null,d,s.createElement("span",u,e))}(),g=(0,r.dG)({id:i.id,ref:u,className:f,style:i.style,role:"alert","aria-live":"polite"},p.getOtherProps(i),m("root"));return s.createElement("div",g,x)})));f.displayName="Message"},2549:function(e,n,t){t.d(n,{Z:function(){return d}});var s,r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},i=new Uint8Array(16);function l(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(i)}for(var a=[],o=0;o<256;++o)a.push((o+256).toString(16).slice(1));function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()}var d=function(e,n,t){if(r.randomUUID&&!n&&!e)return r.randomUUID();var s=(e=e||{}).random||(e.rng||l)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){t=t||0;for(var i=0;i<16;++i)n[t+i]=s[i];return n}return c(s)}}}]);