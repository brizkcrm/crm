"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[629],{629:function(e,t,r){r.r(t);var n=r(4165),i=r(5861),o=r(4942),a=r(1413),s=r(9439),l=r(2791),c=r(7689),u=r(919),d=r(4045),f=r(5533),m=r(5550),p=r(5103),v=r(1945),h=r(5048),y=r(9777),b=r(8715),g=r(4261),x=r(184);t.default=function(){var e="/currencies",t=(0,c.s0)(),r=(0,l.useState)("Create"),j=(0,s.Z)(r,2),N=j[0],O=j[1],S=(0,l.useState)({id:"",name:"",symbol:"",isO4217:"",conversionRate:0,status:!1,default:!1}),w=(0,s.Z)(S,2),C=w[0],E=w[1],P=(0,l.useState)(!1),R=(0,s.Z)(P,2),Z=R[0],I=R[1],k=(0,l.useState)(!1),D=(0,s.Z)(k,2),F=D[0],U=D[1],G=(0,l.useState)({}),A=(0,s.Z)(G,2),T=A[0],V=A[1],q=(0,c.UO)(),L=(0,l.useRef)(!0),J=(0,y.C)((function(e){return[e.currencies.currency,e.currencies.isFetching,e.currencies.isError,e.currencies.currencies]}),h.wU),X=(0,s.Z)(J,4),_=X[0],B=X[1],M=X[2],K=X[3],z=(0,y.T)();(0,l.useEffect)((function(){if(L.current&&(L.current=!1,"edit"===q.mode)){O("Edit");var e=q.id;e&&z(b.gC.getCurrencyById(e))}}),[q,z]),(0,l.useEffect)((function(){"edit"!==q.mode||C.id===(null===_||void 0===_?void 0:_.id)||B||M||E(_)}),[q,C,_,B,M]);var Y=(0,l.useCallback)((function(e){var t=!0;return 0===C.id.length?K.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(t=!1):K.find((function(t){var r;return(null===(r=t.name)||void 0===r?void 0:r.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&t.id!==C.id}))&&(t=!1),t}),[C.id,K]);(0,l.useEffect)((function(){if(Z){for(var e=!0,t=0,r=Object.entries(C);t<r.length;t++){var n=(0,s.Z)(r[t],2),i=n[0],o=n[1];if("id"!==i)if("string"===typeof o){if(0===(null===o||void 0===o?void 0:o.trim().length)){e=!1;break}}else if("number"===typeof o&&(o||0)<=0){e=!1;break}}U(e&&Y(C.name||""))}}),[Z,C,Y]);var H=function(e){I(!0);var t=e.target,r=t.name,n=t.value;if(E((0,a.Z)((0,a.Z)({},C),{},(0,o.Z)({},r,n))),"name"===r){var i=Y(n);V((0,a.Z)((0,a.Z)({},T),{},(0,o.Z)({nameInvalid:!i},r,!n||0===n.toString().trim().length)))}else"status"!==r&&V((0,a.Z)((0,a.Z)({},T),{},(0,o.Z)({},r,0===(null===n||void 0===n?void 0:n.trim().length))))},Q=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"Edit"!==N&&(C.id=(0,g.Z)()),z(b.gC.updateCurrency(C)),setTimeout((function(){z(b.gC.getCurrencies())}),300),t(e);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),W=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t(e);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h3",{className:"caption",children:["Currency: ",N]}),(0,x.jsx)("div",{className:"grid",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)("div",{className:"grid",children:(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("h3",{children:"Currency"})})}),(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"CurrencyName",children:["Currency Name ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(p.o,{id:"CurrencyName",name:"name",maxLength:36,placeholder:"US Dollar",value:C.name,onChange:H}),(null===T||void 0===T?void 0:T.name)&&(0,x.jsx)(v.v,{severity:"error",text:"Currency Name is required."}),(null===T||void 0===T?void 0:T.nameInvalid)&&(0,x.jsx)(v.v,{severity:"error",text:"Currency Name already exists."})]}),(0,x.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"ISO4217",children:["ISO 4217 Currency Code",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(p.o,{id:"ISO4217",name:"isO4217",maxLength:3,placeholder:"USD",value:C.isO4217,onChange:H}),(null===T||void 0===T?void 0:T.isO4217)&&(0,x.jsx)(v.v,{severity:"error",text:"ISO 4217 Currency Code is required."})]})]})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"Rate",children:["Conversion Rate ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(f.R,{id:"Rate",name:"conversionRate",value:C.conversionRate,maxFractionDigits:4,onValueChange:function(e){return function(e){I(!0);var t=e.value||0;E((0,a.Z)((0,a.Z)({},C),{},{conversionRate:t})),V((0,a.Z)((0,a.Z)({},T),{},{conversionRate:t<=0}))}(e)}}),(null===T||void 0===T?void 0:T.conversionRate)&&(0,x.jsx)(v.v,{severity:"error",text:"Conversion Rate is required."})]}),(0,x.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"Symbol",children:["Currency Symbol ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(p.o,{id:"Symbol",name:"symbol",maxLength:36,value:C.symbol,onChange:H}),(null===T||void 0===T?void 0:T.symbol)&&(0,x.jsx)(v.v,{severity:"error",text:"Currency Symbol is required."})]})]})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"Status",children:["Status ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsx)("div",{className:"p-fixed-switch",children:(0,x.jsx)(m.Q,{id:"Status",name:"status",checked:C.status||!1,value:"0",onChange:H})})}),(0,x.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col hidden-xs",children:(0,x.jsx)("div",{className:"p-fixed-switch",children:"\xa0"})})]})})]})]}),(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col-12",children:"\xa0"}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)(u.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!F,onClick:Q}),"\xa0 \xa0",(0,x.jsx)(u.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:W})]})]})]})}},4045:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(2791),i=r(5854),o=r(5388),a=r(7890),s=o.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),l=n.forwardRef((function(e,t){var r=n.useContext(a.Ou),o=s.getProps(e,r),l=n.useRef(t),c=s.setMetaData({props:o}).ptm;n.useEffect((function(){i.gb.combinedRefs(l,t)}),[l,t]);var u=(0,i.dG)({id:o.id,ref:l,style:o.style,className:(0,i.AK)("p-card p-component",o.className)},s.getOtherProps(o),c("root")),d=function(){var e=(0,i.dG)({className:"p-card-header"},c("header"));return o.header?n.createElement("div",e,i.gb.getJSXElement(o.header,o)):null}(),f=function(){var e=(0,i.dG)({className:"p-card-title"},c("title")),t=o.title&&n.createElement("div",e,i.gb.getJSXElement(o.title,o)),r=(0,i.dG)({className:"p-card-subtitle"},c("subTitle")),a=o.subTitle&&n.createElement("div",r,i.gb.getJSXElement(o.subTitle,o)),s=(0,i.dG)({className:"p-card-content"},c("content")),l=o.children&&n.createElement("div",s,o.children),u=(0,i.dG)({className:"p-card-footer"},c("footer")),d=o.footer&&n.createElement("div",u,i.gb.getJSXElement(o.footer,o)),f=(0,i.dG)({className:"p-card-body"},c("body"));return n.createElement("div",f,t,a,l,d)}();return n.createElement("div",u,d,f)}));l.displayName="Card"},5550:function(e,t,r){r.d(t,{Q:function(){return y}});var n=r(2791),i=r(2062),o=r(3574),a=r(5854),s=r(5388),l=r(7890);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=s.V.extend({defaultProps:{__TYPE:"InputSwitch",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0}});function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var y=n.memo(n.forwardRef((function(e,t){var r=n.useContext(l.Ou),s=v.getProps(e,r),u=p(n.useState(!1),2),d=u[0],m=u[1],y=v.setMetaData({props:s,state:{focused:d}}).ptm,b=n.useRef(null),g=n.useRef(s.inputRef),x=s.checked===s.trueValue,j=function(e){if(s.onChange){var t=x?s.falseValue:s.trueValue;s.onChange({originalEvent:e,value:t,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:s.name,id:s.id,value:t}})}};n.useImperativeHandle(t,(function(){return{props:s,focus:function(){return a.p7.focus(g.current)},getElement:function(){return b.current},getInput:function(){return g.current}}})),n.useEffect((function(){a.gb.combinedRefs(g,s.inputRef)}),[g,s.inputRef]),(0,i.nw)((function(){s.autoFocus&&a.p7.focus(g.current,s.autoFocus)}));var N=a.gb.isNotEmpty(s.tooltip),O=v.getOtherProps(s),S=a.gb.reduceKeys(O,a.p7.ARIA_PROPS),w=(0,a.AK)("p-inputswitch p-component",{"p-inputswitch-checked":x,"p-disabled":s.disabled,"p-focus":d},s.className),C=(0,a.dG)({id:s.id,ref:b,className:w,style:s.style,onClick:function(e){s.disabled||(j(e),a.p7.focus(g.current),e.preventDefault())},role:"checkbox","aria-checked":x},y("root")),E=(0,a.dG)({className:"p-hidden-accessible"},y("hiddenInputWrapper")),P=(0,a.dG)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:g,type:"checkbox",id:s.inputId,name:s.name,checked:x,onChange:j,onFocus:function(e){m(!0),s.onFocus&&s.onFocus(e)},onBlur:function(e){m(!1),s.onBlur&&s.onBlur(e)},disabled:s.disabled,role:"switch",tabIndex:s.tabIndex,"aria-checked":x},S),y("hiddenInput")),R=(0,a.dG)({className:"p-inputswitch-slider"},y("slider"));return n.createElement(n.Fragment,null,n.createElement("div",C,n.createElement("div",E,n.createElement("input",P)),n.createElement("span",R)),N&&n.createElement(o.u,c({target:b,content:s.tooltip},s.tooltipOptions,{pt:y("tooltip")})))})));y.displayName="InputSwitch"},1945:function(e,t,r){r.d(t,{v:function(){return h}});var n=r(2791),i=r(5854),o=r(5388),a=r(3179),s=r(1746),l=r(8158),c=r(7033),u=r(7890);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function m(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=o.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var h=n.memo(n.forwardRef((function(e,t){var r=n.useContext(u.Ou),o=p.getProps(e,r),d=n.useRef(null),f=p.setMetaData({props:o}).ptm;n.useImperativeHandle(t,(function(){return{props:o,getElement:function(){return d.current}}}));var h=(0,i.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===o.severity,"p-inline-message-warn":"warn"===o.severity,"p-inline-message-error":"error"===o.severity,"p-inline-message-success":"success"===o.severity,"p-inline-message-icon-only":!o.text},o.className),y=function(){if(o.content)return i.gb.getJSXElement(o.content,o);var e=i.gb.getJSXElement(o.text,o),t=(0,i.dG)({className:"p-inline-message-icon"},f("icon")),r=o.icon;if(!r)switch(o.severity){case"info":r=n.createElement(s.u,t);break;case"warn":r=n.createElement(a.L,t);break;case"error":r=n.createElement(l.x,t);break;case"success":r=n.createElement(c.n,t)}var u=i.Cz.getJSXIcon(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),{props:o}),d=(0,i.dG)({className:"p-inline-message-text"},f("text"));return n.createElement(n.Fragment,null,u,n.createElement("span",d,e))}(),b=(0,i.dG)({id:o.id,ref:d,className:h,style:o.style,role:"alert","aria-live":"polite"},p.getOtherProps(o),f("root"));return n.createElement("div",b,y)})));h.displayName="Message"},4261:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).slice(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var u=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return c(n)}}}]);
//# sourceMappingURL=629.bbef78d4.chunk.js.map