"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[3488],{3488:function(e,r,t){t.r(r);var n=t(4165),i=t(5861),o=t(4942),a=t(1413),s=t(9439),c=t(7313),l=t(8467),d=t(3499),u=t(5973),m=t(244),f=t(7220),p=t(364),v=t(3709),g=t(1315),y=t(3257),h=t(2549),b=t(6417);r.default=function(){var e="/productcategories",r=(0,l.s0)(),t=(0,c.useState)("Create"),x=(0,s.Z)(t,2),j=x[0],N=x[1],C=(0,c.useState)({id:"",name:"",sortOrder:0}),E=(0,s.Z)(C,2),O=E[0],w=E[1],S=(0,c.useState)(!1),P=(0,s.Z)(S,2),Z=P[0],k=P[1],U=(0,c.useState)(!1),D=(0,s.Z)(U,2),R=D[0],G=D[1],I=(0,c.useState)({}),T=(0,s.Z)(I,2),L=T[0],J=T[1],X=(0,l.UO)(),q=(0,c.useRef)(!0),F=(0,g.C)((function(e){return[e.productCategories.productCategory,e.productCategories.isFetching,e.productCategories.isError,e.productCategories.productCategories]}),v.wU),V=(0,s.Z)(F,4),M=V[0],_=V[1],z=V[2],A=V[3],B=(0,g.T)();(0,c.useEffect)((function(){if(q.current&&(q.current=!1,"edit"===X.mode)){N("Edit");var e=X.id;e&&B(y.xU.getProductCategoryById(e))}}),[X,B]),(0,c.useEffect)((function(){"edit"!==X.mode||O.id===(null===M||void 0===M?void 0:M.id)||_||z||w(M)}),[X,O,M,_,z]);var K=(0,c.useCallback)((function(e){var r=!0;return 0===O.id.length?A.find((function(r){var t;return(null===(t=r.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(r=!1):A.find((function(r){var t;return(null===(t=r.name)||void 0===t?void 0:t.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&r.id!==O.id}))&&(r=!1),r}),[O.id,A]);(0,c.useEffect)((function(){if(Z){for(var e=!0,r=0,t=Object.entries(O);r<t.length;r++){var n=(0,s.Z)(t[r],2),i=n[0],o=n[1];if("id"!==i)if("string"===typeof o){if(0===(null===o||void 0===o?void 0:o.trim().length)){e=!1;break}}else if("number"===typeof o&&(o||0)<0){e=!1;break}}G(e&&K(O.name||""))}}),[Z,O,K]);var Y=function(){var t=(0,i.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Edit"!==j&&(O.id=(0,h.Z)()),B(y.xU.updateProductCategory(O)),setTimeout((function(){B(y.xU.getProductCategories())}),300),r(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=(0,i.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"caption",children:["Product Category: ",j]}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,b.jsxs)(u.Z,{children:[(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsx)("h3",{children:"Product Category"})})}),(0,b.jsx)("div",{className:"grid",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"ProductCategoryName",children:["Product Category Name",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(f.o,{id:"ProductCategoryName",name:"name",maxLength:200,value:O.name,onChange:function(e){k(!0);var r=e.target,t=r.name,n=r.value;w((0,a.Z)((0,a.Z)({},O),{},(0,o.Z)({},t,n)));var i=K(n);J((0,a.Z)((0,a.Z)({},L),{},(0,o.Z)({nameInvalid:!i},t,!n||0===n.toString().trim().length)))}}),(null===L||void 0===L?void 0:L.name)&&(0,b.jsx)(p.v,{severity:"error",text:"Product Category Name is required."}),(null===L||void 0===L?void 0:L.nameInvalid)&&(0,b.jsx)(p.v,{severity:"error",text:"Product Category Name already exists."})]}),(0,b.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,b.jsx)("div",{className:"col",children:(0,b.jsxs)("label",{htmlFor:"SortOrder",children:["Sort Order ",(0,b.jsx)("span",{className:"field-required",children:"*"})]})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)(m.R,{id:"SortOrder",name:"sortOrder",value:O.sortOrder,maxFractionDigits:0,onValueChange:function(e){return function(e){k(!0);var r=null===e.value?-1:e.value;w((0,a.Z)((0,a.Z)({},O),{},{sortOrder:r})),J((0,a.Z)((0,a.Z)({},L),{},{sortOrder:r<0}))}(e)}}),(null===L||void 0===L?void 0:L.sortOrder)&&(0,b.jsx)(p.v,{severity:"error",text:"Sort Order is required."})]})]})})})]}),(0,b.jsxs)("div",{className:"grid",children:[(0,b.jsx)("div",{className:"col-12",children:"\xa0"}),(0,b.jsxs)("div",{className:"col-12",children:[(0,b.jsx)(d.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!R,onClick:Y}),"\xa0 \xa0",(0,b.jsx)(d.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:H})]})]})]})}},5973:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(7313),i=t(5234),o=t(7371),a=t(1742),s=o.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),c=n.forwardRef((function(e,r){var t=n.useContext(a.Ou),o=s.getProps(e,t),c=n.useRef(r),l=s.setMetaData({props:o}).ptm;n.useEffect((function(){i.gb.combinedRefs(c,r)}),[c,r]);var d=(0,i.dG)({id:o.id,ref:c,style:o.style,className:(0,i.AK)("p-card p-component",o.className)},s.getOtherProps(o),l("root")),u=function(){var e=(0,i.dG)({className:"p-card-header"},l("header"));return o.header?n.createElement("div",e,i.gb.getJSXElement(o.header,o)):null}(),m=function(){var e=(0,i.dG)({className:"p-card-title"},l("title")),r=o.title&&n.createElement("div",e,i.gb.getJSXElement(o.title,o)),t=(0,i.dG)({className:"p-card-subtitle"},l("subTitle")),a=o.subTitle&&n.createElement("div",t,i.gb.getJSXElement(o.subTitle,o)),s=(0,i.dG)({className:"p-card-content"},l("content")),c=o.children&&n.createElement("div",s,o.children),d=(0,i.dG)({className:"p-card-footer"},l("footer")),u=o.footer&&n.createElement("div",d,i.gb.getJSXElement(o.footer,o)),m=(0,i.dG)({className:"p-card-body"},l("body"));return n.createElement("div",m,r,a,c,u)}();return n.createElement("div",d,u,m)}));c.displayName="Card"},364:function(e,r,t){t.d(r,{v:function(){return g}});var n=t(7313),i=t(5234),o=t(7371),a=t(4611),s=t(4229),c=t(886),l=t(3210),d=t(1742);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e){var r=function(e,r){if("object"!==u(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===u(r)?r:String(r)}function f(e,r,t){return(r=m(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p=o.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var g=n.memo(n.forwardRef((function(e,r){var t=n.useContext(d.Ou),o=p.getProps(e,t),u=n.useRef(null),m=p.setMetaData({props:o}).ptm;n.useImperativeHandle(r,(function(){return{props:o,getElement:function(){return u.current}}}));var g=(0,i.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===o.severity,"p-inline-message-warn":"warn"===o.severity,"p-inline-message-error":"error"===o.severity,"p-inline-message-success":"success"===o.severity,"p-inline-message-icon-only":!o.text},o.className),y=function(){if(o.content)return i.gb.getJSXElement(o.content,o);var e=i.gb.getJSXElement(o.text,o),r=(0,i.dG)({className:"p-inline-message-icon"},m("icon")),t=o.icon;if(!t)switch(o.severity){case"info":t=n.createElement(s.u,r);break;case"warn":t=n.createElement(a.L,r);break;case"error":t=n.createElement(c.x,r);break;case"success":t=n.createElement(l.n,r)}var d=i.Cz.getJSXIcon(t,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){f(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},r),{props:o}),u=(0,i.dG)({className:"p-inline-message-text"},m("text"));return n.createElement(n.Fragment,null,d,n.createElement("span",u,e))}(),h=(0,i.dG)({id:o.id,ref:u,className:g,style:o.style,role:"alert","aria-live":"polite"},p.getOtherProps(o),m("root"));return n.createElement("div",h,y)})));g.displayName="Message"},2549:function(e,r,t){t.d(r,{Z:function(){return d}});var n,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).slice(1));function l(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s[e[r+0]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+"-"+s[e[r+4]]+s[e[r+5]]+"-"+s[e[r+6]]+s[e[r+7]]+"-"+s[e[r+8]]+s[e[r+9]]+"-"+s[e[r+10]]+s[e[r+11]]+s[e[r+12]]+s[e[r+13]]+s[e[r+14]]+s[e[r+15]]).toLowerCase()}var d=function(e,r,t){if(i.randomUUID&&!r&&!e)return i.randomUUID();var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return l(n)}}}]);