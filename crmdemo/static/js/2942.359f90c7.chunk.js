"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[2942],{2942:function(e,i,s){s.r(i),s.d(i,{default:function(){return B}});var n=s(4165),d=s(5861),l=s(3433),a=s(4942),c=s(1413),r=s(9439),t=s(2791),o=s(7689),h=s(919),u=s(4045),x=s(9585),m=s(1063),v=s(5134),j=s(9856),p=s(3014),g=s(5103),N=s(8218),f=s(5533),b=s(1945),C=s(6646),y=s(5048),S=s(9777),A=s(1067),Z=s(3770),P=s(8715),I=s(2358),w=s(1443),F=s(8457),T=s(7370),D=s(4261),L=s(3585),k=s(8284),O=s(3396),R=s(184),E=function(e){var i=function(e){var i;return(0,R.jsx)("div",{className:"text-right",children:null===e||void 0===e||null===(i=e.listPrice)||void 0===i?void 0:i.toFixed(2)})},s=function(e){return"".concat(null===e||void 0===e?void 0:e.discountType," ").concat(null===e||void 0===e?void 0:e.discount)},n=function(e){var i;return(0,R.jsx)("div",{className:"text-right",children:null===e||void 0===e||null===(i=e.total)||void 0===i?void 0:i.toFixed(2)})},d=function(e){var i,s,n;return(0,R.jsxs)("div",{className:"grid text-right",children:[(0,R.jsx)("div",{className:"col-7",children:"\xa0"}),(0,R.jsx)("div",{className:"col-5",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:"Items Total:"}),(0,R.jsx)("div",{className:"col",children:null===(i=e.subTotal)||void 0===i?void 0:i.toFixed(2)})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:"Tax:"}),(0,R.jsx)("div",{className:"col",children:null===(s=e.taxTotal)||void 0===s?void 0:s.toFixed(2)})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsxs)("div",{className:"col",children:["Grand Total: (in ",e.currencyId,")"]}),(0,R.jsx)("div",{className:"col",children:null===(n=e.total)||void 0===n?void 0:n.toFixed(2)})]})})]})})]})};return(0,R.jsx)(R.Fragment,{children:function(){var l;if(""===e.item.id)return null;var a=(0,c.Z)({},e.item);if(e.accounts){var r=e.accounts.find((function(e){return e.id===a.accountId}));r&&(a.accountId=r.name)}if(e.currencies){var t=e.currencies.find((function(e){return e.id===a.currencyId}));t&&(a.currencyId=t.symbol)}return e.products&&e.item.items&&(a.items=e.item.items.map((function(i){var s=(0,c.Z)({},i),n=e.products.find((function(e){return e.id===i.productId}));return n&&(s.productId=n.name),s}))),(0,R.jsxs)("div",{className:"grid p-5",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Sales Order"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Subject",children:"Subject:"})}),(0,R.jsx)("div",{className:"col",children:a.subject}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Opportunity",children:"Customer Name:"})}),(0,R.jsx)("div",{className:"col",children:a.accountId})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"CustomerNo",children:"Issued Date:"})}),(0,R.jsx)("div",{className:"col",children:(new Date).toLocaleDateString()}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Account",children:"Due Date:"})}),(0,R.jsx)("div",{className:"col",children:null===(l=(0,k.YM)(a.dueDate))||void 0===l?void 0:l.toLocaleDateString()})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"PurchaseOrder",children:"Billing Address:"})}),(0,R.jsx)("div",{className:"col",children:"".concat(a.billingAddressStreet," ").concat(a.billingAddressCity,", ").concat(a.billingAddressState," ").concat(a.billingAddressPostalcode," ").concat(a.billingAddressCountry)}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Contact",children:"Shipping Address:"})}),(0,R.jsx)("div",{className:"col",children:"".concat(a.shippingAddressStreet," ").concat(a.shippingAddressCity,", ").concat(a.shippingAddressState," ").concat(a.shippingAddressPostalcode," ").concat(a.shippingAddressCountry)})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)(v.w,{value:a.items,showGridlines:!0,footer:d(a),children:[(0,R.jsx)(m.s,{field:"productId",header:"Product"}),(0,R.jsx)(m.s,{field:"quantity",header:"Quantity"}),(0,R.jsx)(m.s,{field:"listPrice",header:"Selling Price",body:i}),(0,R.jsx)(m.s,{field:"discountType",header:"Discount",body:s}),(0,R.jsx)(m.s,{field:"total",header:"Total",body:n})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Description"})}),(0,R.jsx)("div",{className:"col-12",children:a.description}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Terms & Conditions"})}),(0,R.jsx)("div",{className:"col-12",children:a.termsConditions})]})}()})},z=s(1146),B=function(){var e,i,s,B="/salesorders",q=(0,o.s0)(),U=(0,t.useState)("Create"),V=(0,r.Z)(U,2),$=V[0],W=V[1],G=(0,t.useState)({id:"",subject:"",customerNo:"",opportunityId:"",contactId:"",dueDate:"",carrier:"",pending:"",adjustment:0,salesCommission:0,exciseDuty:0,accountId:"",accountName:"",termsConditions:"",purchaseOrder:"",status:"",currencyId:"",subTotal:0,taxTotal:0,total:0,assignedUserId:"",assignedUserLastName:"",billingAddressStreet:"",billingAddressCity:"",billingAddressState:"",billingAddressPostalcode:"",billingAddressCountry:"",shippingAddressStreet:"",shippingAddressCity:"",shippingAddressState:"",shippingAddressPostalcode:"",shippingAddressCountry:"",description:"",items:[]}),M=(0,r.Z)(G,2),Y=M[0],H=M[1],_=(0,t.useState)(!1),Q=(0,r.Z)(_,2),J=Q[0],K=Q[1],X=(0,t.useState)(!1),ee=(0,r.Z)(X,2),ie=ee[0],se=ee[1],ne=(0,t.useState)({}),de=(0,r.Z)(ne,2),le=de[0],ae=de[1],ce=(0,t.useState)(!1),re=(0,r.Z)(ce,2),te=re[0],oe=re[1],he=(0,t.useState)(""),ue=(0,r.Z)(he,2),xe=ue[0],me=ue[1],ve=(0,t.useState)([]),je=(0,r.Z)(ve,2),pe=je[0],ge=je[1],Ne=(0,o.UO)(),fe=(0,t.useRef)(!0),be=(0,t.useRef)(null),Ce=(0,S.C)((function(e){return[e.salesOrders.salesOrder,e.salesOrders.isFetching,e.salesOrders.isError,e.accounts.accounts,e.contacts.contacts,e.currencies.currencies,e.opportunities.opportunities,e.products.products,e.salesOrders.salesOrders,e.users.users,e.users.isProfile,e.users.profile]}),y.wU),ye=(0,r.Z)(Ce,12),Se=ye[0],Ae=ye[1],Ze=ye[2],Pe=ye[3],Ie=ye[4],we=ye[5],Fe=ye[6],Te=ye[7],De=ye[8],Le=ye[9],ke=ye[10],Oe=ye[11],Re=(0,S.T)();(0,t.useEffect)((function(){if(fe.current)if(fe.current=!1,Re(A.$h.getAccounts()),Re(Z.S8.getContacts()),Re(P.gC.getCurrencies()),Re(I.Yg.getOpportunities()),Re(w.Jh.getProducts()),Re(T.hI.getUsers()),"edit"===Ne.mode){W("Edit");var e=Ne.id;e&&Re(F.lW.getSalesOrderById(e))}else H((0,c.Z)((0,c.Z)({},Y),{},{termsConditions:L._1}))}),[]),(0,t.useEffect)((function(){"edit"!==Ne.mode&&ke&&Oe&&Oe.currencyId&&""===Y.currencyId&&Oe.currencyId!==Y.currencyId&&H((0,c.Z)((0,c.Z)({},Y),{},{currencyId:Oe.currencyId}))}),[Ne,ke,Oe,Y]),(0,t.useEffect)((function(){"edit"!==Ne.mode||Y.id===(null===Se||void 0===Se?void 0:Se.id)||Ae||Ze||H(Se)}),[Ne,Y,Se,Ae,Ze]),(0,t.useEffect)((function(){if(Te&&Te.length>0){var e=Te.filter((function(e){return!!e.active}));e.length>0&&ge(e)}}),[Te]);var Ee=(0,t.useCallback)((function(e){var i=!0;return 0===Y.id.length?De.find((function(i){var s;return(null===(s=i.subject)||void 0===s?void 0:s.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(i=!1):De.find((function(i){var s;return(null===(s=i.subject)||void 0===s?void 0:s.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&i.id!==Y.id}))&&(i=!1),i}),[Y.id,De]);(0,t.useEffect)((function(){J&&se((Y.subject||"").trim().length>0&&Ee(Y.subject||"")&&(Y.currencyId||"").trim().length>0)}),[J,Y,Ee]);var ze=function(e){K(!0);var i=e.target,s=i.name,n=i.value;if("dueDate"===s)H((0,c.Z)((0,c.Z)({},Y),{},(0,a.Z)({},s,(0,k.xN)(n))));else if("accountId"===s){var d,l=Pe.find((function(e){return e.id===n}));if(l)H((0,c.Z)((0,c.Z)({},Y),{},(d={},(0,a.Z)(d,s,n),(0,a.Z)(d,"accountName",l.name),d)))}else if("currencyId"===s)H((0,c.Z)((0,c.Z)({},Y),{},(0,a.Z)({},s,n),function(e){for(var i=0,s=0,n=Y.currencyId?Y.currencyId:"",d=Y.items||[],l=[],a=0;a<d.length;a++){var r=(0,c.Z)({},d[a]);r.purchaseCost=(0,k.Nh)(n,e,r.purchaseCost,we),r.listPrice=(0,k.Nh)(n,e,r.listPrice,we),"$"===r.discountType&&(r.discount=(0,k.Nh)(n,e,r.discount||0,we)),r.total=(0,k.Nh)(n,e,r.total,we),r.tax=(0,k.Nh)(n,e,r.tax,we),l.push(r),i+=r.total,s=r.tax}return{subTotal:i,taxTotal:s,total:i+s,items:l}}(e.target.value)));else if("assignedUserId"===s){var r,t=Le.find((function(e){return e.id===n}));if(t)H((0,c.Z)((0,c.Z)({},Y),{},(r={},(0,a.Z)(r,s,n),(0,a.Z)(r,"assignedUserLastName",t.lastName),r)))}else H((0,c.Z)((0,c.Z)({},Y),{},(0,a.Z)({},s,n)));if("subject"===s){var o=Ee(n);ae((0,c.Z)((0,c.Z)({},le),{},(0,a.Z)({subjectInvalid:!o},s,!n||0===n.toString().trim().length)))}},Be=function(){K(!0),H((0,c.Z)((0,c.Z)({},Y),{},{shippingAddressStreet:Y.billingAddressStreet,shippingAddressCity:Y.billingAddressCity,shippingAddressState:Y.billingAddressState,shippingAddressPostalcode:Y.billingAddressPostalcode,shippingAddressCountry:Y.billingAddressCountry}))},qe=function(){K(!0),H((0,c.Z)((0,c.Z)({},Y),{},{billingAddressStreet:Y.shippingAddressStreet,billingAddressCity:Y.shippingAddressCity,billingAddressState:Y.shippingAddressState,billingAddressPostalcode:Y.shippingAddressPostalcode,billingAddressCountry:Y.shippingAddressCountry}))},Ue=function(e){return(0,R.jsx)(p.L,{value:e.value,options:pe,optionLabel:"name",optionValue:"id",onChange:function(i){return function(e,i){var s=pe.find((function(e){return e.id===i.value}));if(s&&Y){var n=e.rowData,d=e.rowIndex;n.listPrice=s.unitPrice;var a=(0,l.Z)(Y.items||[]);a[d]=n,H((0,c.Z)((0,c.Z)({},Y),{},{items:a}))}e.editorCallback(i.value)}(e,i)},placeholder:"Select a Product",itemTemplate:function(e){return(0,R.jsx)("span",{children:e.name})}})},Ve=function(e){var i,s;switch(e.value){case"%":s="% Price";break;case"$":s="Direct Price Reduction";break;default:s="Zero Discount"}return(0,R.jsxs)("div",{className:"field-checkbox m-0",children:[(0,R.jsx)(C.x,{value:s,options:O.$v,optionValue:"value",onChange:function(i){return function(e,i){var s;switch(i.value){case"% Price":s="%";break;case"Direct Price Reduction":s="$";break;default:s=""}e.editorCallback(s)}(e,i)},tooltip:s}),"\xa0","Zero Discount"!==s&&(0,R.jsx)(f.R,{value:null===(i=e.rowData)||void 0===i?void 0:i.discount,onValueChange:function(i){return function(e,i){var s=e.rowData,n=e.rowIndex;s.discount=i;var d=(0,l.Z)(Y.items||[]);d[n]=s,H((0,c.Z)((0,c.Z)({},Y),{},{items:d}))}(e,i.value)},size:9})]})},$e=function(e){return(0,R.jsx)(f.R,{value:e.value,onValueChange:function(i){return e.editorCallback(i.value)},size:9})},We=function(e){me(e.id),oe(!0)},Ge=function(){oe(!1)},Me=function(){var e=(0,d.Z)((0,n.Z)().mark((function e(){var i,s,d,l,a,r,t,o,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe&&(s=null===(i=Y.items)||void 0===i?void 0:i.filter((function(e){return e.id!==xe})))&&(K(!0),l=0,a=0,(r=null===(d=Y.items)||void 0===d?void 0:d.find((function(e){return e.id===xe})))&&(l=r.total||0,a=r.tax||0),t=(Y.subTotal||0)-l,o=(Y.taxTotal||0)-a,h=t+o,H((0,c.Z)((0,c.Z)({},Y),{},{subTotal:t,taxTotal:o,total:h,items:s}))),Ge(),me("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(h.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:Ge}),(0,R.jsx)(h.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:Me})]}),He=(0,R.jsxs)("div",{className:"grid text-right",children:[(0,R.jsx)("div",{className:"col-9",children:"\xa0"}),(0,R.jsx)("div",{className:"col-3",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:"Items Total:"}),(0,R.jsx)("div",{className:"col",children:null===(e=Y.subTotal)||void 0===e?void 0:e.toFixed(2)})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:"Tax:"}),(0,R.jsx)("div",{className:"col",children:null===(i=Y.taxTotal)||void 0===i?void 0:i.toFixed(2)})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:"Grand Total:"}),(0,R.jsx)("div",{className:"col",children:null===(s=Y.total)||void 0===s?void 0:s.toFixed(2)})]})})]})})]}),_e=function(){var e=(0,d.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Edit"!==$&&(Y.id=(0,D.Z)()),Re(F.lW.updateSalesOrder(Y)),setTimeout((function(){Re(F.lW.getSalesOrders())}),300),q(B);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,d.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(B);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=(0,z.useReactToPrint)({content:function(){return be.current}});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)("h3",{className:"caption",children:["Sales Order: ",$]}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsxs)("div",{className:"col-12",children:[(0,R.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Sales Order"})})}),(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsxs)("label",{htmlFor:"Subject",children:["Subject ",(0,R.jsx)("span",{className:"field-required",children:"*"})]})}),(0,R.jsxs)("div",{className:"col",children:[(0,R.jsx)(g.o,{id:"Subject",name:"subject",maxLength:100,placeholder:"Subject",value:Y.subject,onChange:ze}),(null===le||void 0===le?void 0:le.subject)&&(0,R.jsx)(b.v,{severity:"error",text:"Subject is required."}),(null===le||void 0===le?void 0:le.subjectInvalid)&&(0,R.jsx)(b.v,{severity:"error",text:"Subject already exists."})]}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Opportunity",children:"Opportunity"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("div",{className:"p-fixed-switch",children:(0,R.jsx)(p.L,{id:"Opportunity",name:"opportunityId",options:Fe,optionLabel:"name",optionValue:"id",value:Y.opportunityId,onChange:ze,className:"p-combobox"})})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"CustomerNo",children:"Customer No"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"CustomerNo",name:"customerNo",maxLength:100,value:Y.customerNo,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Account",children:"Account"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(p.L,{id:"Account",name:"accountId",options:Pe,optionLabel:"name",optionValue:"id",value:Y.accountId,onChange:ze,className:"p-combobox"})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"PurchaseOrder",children:"Purchase Order"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"PurchaseOrder",name:"purchaseOrder",maxLength:200,value:Y.purchaseOrder,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Contact",children:"Contact"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(p.L,{id:"Contact",name:"contactId",options:Ie,optionLabel:"lastName",optionValue:"id",value:Y.contactId,onChange:ze,className:"p-combobox"})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"DueDate",children:"Due Date"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(x.f,{id:"DueDate",name:"dueDate",value:(0,k.YM)(Y.dueDate),onChange:ze,showButtonBar:!0,showIcon:!0,className:"p-combobox"})}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Carrier",children:"Carrier"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(p.L,{id:"Carrier",name:"carrier",options:["FedEx","UPS","USPS","DHL","BlueDart"],value:Y.carrier,onChange:ze,className:"p-combobox"})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Pending",children:"Pending"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"Pending",name:"pending",maxLength:200,value:Y.pending,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"Status",children:"Status"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(p.L,{id:"Status",name:"status",options:O.Gh,value:Y.status,onChange:ze,className:"p-combobox"})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"SalesCommission",children:"Sales Commission"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(f.R,{id:"SalesCommission",name:"salesCommission",value:Y.salesCommission,onValueChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"ExciseDuty",children:"Excise Duty"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(f.R,{id:"ExciseDuty",name:"exciseDuty",value:Y.exciseDuty,onValueChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsxs)("label",{htmlFor:"Currency",children:["Currency ",(0,R.jsx)("span",{className:"field-required",children:"*"})]})}),(0,R.jsxs)("div",{className:"col",children:[(0,R.jsx)(p.L,{id:"Currency",name:"currencyId",options:we,optionLabel:"name",optionValue:"id",value:Y.currencyId,onChange:ze,className:"p-combobox"}),(null===le||void 0===le?void 0:le.currencyId)&&(0,R.jsx)(b.v,{severity:"error",text:"Currency is required."})]}),(0,R.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"AssignedTo",children:"Assigned To"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(p.L,{id:"AssignedTo",name:"assignedUserId",options:Le,optionLabel:"lastName",optionValue:"id",value:Y.assignedUserId,onChange:ze,className:"p-combobox"})})]})})]})]}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:"\xa0"})}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Address"})})}),(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("h4",{children:"Billing Address"})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("h4",{children:"Shipping Address"})})]}),(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"BillingStreet",children:"Street"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"BillingStreet",name:"billingAddressStreet",maxLength:150,value:Y.billingAddressStreet,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("label",{htmlFor:"ShippingStreet1",children:"Street"})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)(g.o,{id:"ShippingStreet1",name:"shippingAddressStreet",maxLength:150,value:Y.shippingAddressStreet,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"BillingCity",children:"City"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"BillingCity",name:"billingAddressCity",maxLength:100,value:Y.billingAddressCity,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:(0,R.jsx)(h.z,{icon:"pi pi-arrow-circle-right",className:"p-button-rounded p-button-text p-button-lg",tooltip:"Copy Billing Address",onClick:Be})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("label",{htmlFor:"ShippingCity1",children:"City"})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)(g.o,{id:"ShippingCity1",name:"shippingAddressCity",maxLength:100,value:Y.shippingAddressCity,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"BillingState",children:"State"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"BillingState",name:"billingAddressState",maxLength:100,value:Y.billingAddressState,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("label",{htmlFor:"ShippingState1",children:"State"})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)(g.o,{id:"ShippingState1",name:"shippingAddressState",maxLength:100,value:Y.shippingAddressState,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"BillingPostalCode",children:"Postal Code"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"BillingPostalCode",name:"billingAddressPostalcode",maxLength:20,value:Y.billingAddressPostalcode,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:(0,R.jsx)(h.z,{icon:"pi pi-arrow-circle-left",className:"p-button-rounded p-button-text p-button-lg",tooltip:"Copy Shipping Address",onClick:qe})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("label",{htmlFor:"ShippingPostalCode1",children:"Postal Code"})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)(g.o,{id:"ShippingPostalCode1",name:"shippingAddressPostalcode",type:"text",maxLength:20,value:Y.shippingAddressPostalcode,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)("label",{htmlFor:"BillingCountry",children:"Country"})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(g.o,{id:"BillingCountry",name:"billingAddressCountry",maxLength:255,value:Y.billingAddressCountry,onChange:ze})}),(0,R.jsx)("div",{className:"col-fixed p-fixed-10 hidden-xs",children:"\xa0"}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)("label",{htmlFor:"ShippingCountry1",children:"Country"})}),(0,R.jsx)("div",{className:"col hidden-xs",children:(0,R.jsx)(g.o,{id:"ShippingCountry1",name:"shippingAddressCountry",maxLength:255,value:Y.shippingAddressCountry,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(h.z,{icon:"pi pi-arrow-circle-down",className:"p-button-rounded p-button-text p-button-lg",tooltip:"Copy Billing Address",onClick:Be})}),(0,R.jsx)("div",{className:"col",children:(0,R.jsx)(h.z,{icon:"pi pi-arrow-circle-up",className:"p-button-rounded p-button-text p-button-lg",tooltip:"Copy Shipping Address",onClick:qe})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsx)("h4",{children:"Shipping Address"})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("label",{htmlFor:"ShippingStreet2",children:"Street"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(g.o,{id:"ShippingStreet2",name:"shippingAddressStreet",maxLength:150,value:Y.shippingAddressStreet,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("label",{htmlFor:"ShippingCity2",children:"City"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(g.o,{id:"ShippingCity2",name:"shippingAddressCity",maxLength:100,value:Y.shippingAddressCity,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("label",{htmlFor:"ShippingState2",children:"State"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(g.o,{id:"ShippingState2",name:"shippingAddressState",maxLength:100,value:Y.shippingAddressState,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("label",{htmlFor:"ShippingPostalCode2",children:"Postal Code"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(g.o,{id:"ShippingPostalCode2",name:"shippingAddressPostalcode",maxLength:20,value:Y.shippingAddressPostalcode,onChange:ze})})]})}),(0,R.jsx)("div",{className:"col-12 hidden-sm hidden-md hidden-lg",children:(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("label",{htmlFor:"ShippingCountry2",children:"Country"})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(g.o,{id:"ShippingCountry2",name:"shippingAddressCountry",maxLength:255,value:Y.shippingAddressCountry,onChange:ze})})]})})]})]}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:"\xa0"})}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Terms & Conditions"})})}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(N.g,{name:"termsConditions",value:Y.termsConditions,onChange:ze,style:{width:280},autoResize:!0})})})]}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:"\xa0"})}),(0,R.jsxs)(u.Z,{children:[(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("h3",{children:"Description"})})}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)(N.g,{name:"description",value:Y.description,onChange:ze,style:{width:280},autoResize:!0})})})]}),(0,R.jsxs)(u.Z,{children:[(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col text-left",children:(0,R.jsx)("h3",{children:"Items"})}),(0,R.jsx)("div",{className:"col text-right",children:(0,R.jsx)(h.z,{icon:"pi pi-plus",className:"p-button-rounded p-button-outlined",tooltip:"Add Sales Order Item",onClick:function(){K(!0);var e={id:(0,D.Z)(),quantity:1,discountType:"",discount:0,tax:0,total:0,taxes:[]},i=0,s=0;if(pe&&pe.length>0){var n=pe[0];e.productId=n.id,e.listPrice=n.unitPrice||0,e.purchaseCost=(n.purchaseCost||0)*(e.quantity||0),n.currencyId!==Y.currencyId&&(e.listPrice=(0,k.Nh)(n.currencyId||"",Y.currencyId||"",e.listPrice,we),e.purchaseCost=(0,k.Nh)(n.currencyId||"",Y.currencyId||"",e.purchaseCost,we)),e.taxes=(0,l.Z)(n.taxes||[]),i=e.listPrice,s=0,e.taxes.length>0&&(e.taxes.forEach((function(e){s+=i*(e.value||0)/100})),e.tax=s),e.total=i}var d=(Y.subTotal||0)+i,a=(Y.taxTotal||0)+s,r=d+a,t=[].concat((0,l.Z)(Y.items||[]),[e]);H((0,c.Z)((0,c.Z)({},Y),{},{subTotal:d,taxTotal:a,total:r,items:t}))}})})]}),(0,R.jsx)("div",{className:"grid",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)(v.w,{value:Y.items,editMode:"row",dataKey:"id",onRowEditComplete:function(e){K(!0);var i=e.newData,s=e.index,n=e.data,d=i;d.discount=n.discount||0;var a=(d.listPrice||0)*(d.quantity||0);switch(d.discountType){case"%":a-=a*(d.discount||0)/100;break;case"$":a-=d.discount||0;break;default:d.discount=0}d.total=a;var r=0,t=pe.find((function(e){return e.id===d.productId}));t&&(d.purchaseCost=(t.purchaseCost||0)*(d.quantity||0),d.taxes=(0,l.Z)(t.taxes||[]),d.taxes.length>0&&(d.taxes.forEach((function(e){r+=a*(e.value||0)/100})),d.tax=r));var o=a,h=r,u=0;Y.items&&(Y.items.forEach((function(e){e.id!==d.id&&(o+=e.total||0,h+=e.tax||0)})),u=o+h);var x=(0,l.Z)(Y.items||[]);x[s]=d,H((0,c.Z)((0,c.Z)({},Y),{},{subTotal:o,taxTotal:h,total:u,items:x}))},reorderableRows:!0,onRowReorder:function(e){K(!0),H((0,c.Z)((0,c.Z)({},Y),{},{items:e.value}))},footer:He,children:[(0,R.jsx)(m.s,{rowReorder:!0,style:{width:"3em"}}),(0,R.jsx)(m.s,{field:"productId",header:"Item Name",body:function(e){var i=Te.find((function(i){return i.id===e.productId}));return null===i||void 0===i?void 0:i.name},editor:function(e){return Ue(e)}}),(0,R.jsx)(m.s,{field:"comment",header:"Comment",editor:function(e){return function(e){return(0,R.jsx)(g.o,{value:e.value,onChange:function(i){return e.editorCallback(i.target.value)}})}(e)}}),(0,R.jsx)(m.s,{field:"quantity",header:"Quantity",editor:function(e){return $e(e)}}),(0,R.jsx)(m.s,{field:"listPrice",header:"Selling Price",body:function(e){var i;return(0,R.jsx)("div",{className:"text-right",children:null===e||void 0===e||null===(i=e.listPrice)||void 0===i?void 0:i.toFixed(2)})},editor:function(e){return $e(e)}}),(0,R.jsx)(m.s,{field:"discountType",header:"Discount",body:function(e){return"".concat(null===e||void 0===e?void 0:e.discountType," ").concat(null===e||void 0===e?void 0:e.discount)},editor:function(e){return Ve(e)}}),(0,R.jsx)(m.s,{field:"total",header:"Total",body:function(e){var i;return(0,R.jsx)("div",{className:"text-right",children:null===e||void 0===e||null===(i=e.total)||void 0===i?void 0:i.toFixed(2)})}}),(0,R.jsx)(m.s,{rowEditor:!0,headerStyle:{minWidth:"2rem"},bodyStyle:{textAlign:"center"}}),(0,R.jsx)(m.s,{body:function(e){return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(h.z,{icon:"pi pi-trash",className:"p-row-editor-init p-link",tooltip:"Delete",onClick:function(){return We(e)}})})},style:{minWidth:"2rem",textAlign:"center"}})]})})})]}),(0,R.jsxs)("div",{className:"grid",children:[(0,R.jsx)("div",{className:"col-12",children:"\xa0"}),(0,R.jsxs)("div",{className:"col-12",children:[(0,R.jsx)(h.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!ie,onClick:_e}),"\xa0 \xa0",(0,R.jsx)(h.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:Qe}),"\xa0 \xa0",(0,R.jsx)(h.z,{icon:"pi pi-print",className:"p-button-rounded p-button-outlined",tooltip:"Print",onClick:Je})]})]}),(0,R.jsx)(j.V,{visible:te,style:{width:"450px"},header:"Confirm",modal:!0,footer:Ye,onHide:Ge,children:(0,R.jsxs)("div",{className:"confirmation-content",children:[(0,R.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),(0,R.jsx)("strong",{children:"Are you sure you want to delete this item?"})]})})]}),(0,R.jsx)("div",{className:"p-hidden",children:(0,R.jsx)("div",{ref:be,children:(0,R.jsx)(E,{item:Y,accounts:Pe,currencies:we,products:Te})})})]})}},3585:function(e,i,s){s.d(i,{$8:function(){return l},Hr:function(){return a},_1:function(){return c},oB:function(){return d},wQ:function(){return n}});var n="Something bad happened. Please try again later.",d="Email is invalid.",l="Confirm Password is required.",a="Please re-enter passwords. The passwords do not match.",c=" - Unless otherwise agreed in writing by the supplier all invoices are payable within thirty (30) days of the date of invoice, in the currency of the invoice, drawn on a bank based in the USA or by such other method as is agreed in advance by the Supplier.\n- All prices are not inclusive of VAT which shall be payable in addition by the Customer at the applicable rate."},3396:function(e,i,s){s.d(i,{$v:function(){return d},Ay:function(){return n},Gh:function(){return l}});var n=["Cold Call","Existing Customer","Self Generated","Employee","Partner","Public Relations","Direct Mail","Conference","Trade Show","Web Site","Word of mouth","Email","Campaign","Other"],d=[{value:"Zero Discount",icon:"fas fa-circle"},{value:"% Price",icon:"fas fa-percent"},{value:"Direct Price Reduction",icon:"fas fa-arrow-down"}],l=["Created","Approved","Delivered","Cancelled"]},8284:function(e,i,s){s.d(i,{A8:function(){return a},HN:function(){return n},Nh:function(){return c},YM:function(){return l},xN:function(){return d}});var n=/^([a-zA-Z0-9_\-+'])+(\.[a-zA-Z0-9_\-+']+)*@((([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,15}))\s*$/i,d=function(e){return e?new Date(e).toISOString():""},l=function(e){return e?new Date(e):void 0},a=function(e){var i=parseFloat(e);return isNaN(i)?void 0:i},c=function(e,i,s,n){var d=a(s);if(!d)return s;var l=n.find((function(i){return i.id===e}));return l&&l.conversionRate&&!isNaN(l.conversionRate)&&l.conversionRate>0&&(d/=l.conversionRate),(l=n.find((function(e){return e.id===i})))&&l.conversionRate&&!isNaN(l.conversionRate)&&l.conversionRate>0&&(d*=l.conversionRate),parseFloat(d.toFixed(2))}}}]);
//# sourceMappingURL=2942.359f90c7.chunk.js.map