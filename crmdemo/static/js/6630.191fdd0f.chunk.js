"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[6630],{6630:function(e,t,n){n.r(t);var r=n(4165),i=n(5861),a=n(4942),o=n(1413),l=n(9439),s=n(7313),c=n(8467),u=n(3499),d=n(5973),f=n(244),p=n(5539),m=n(7220),v=n(364),b=n(3709),h=n(1315),y=n(8077),g=n(2549),x=n(6417);t.default=function(){var e="/taxes",t=(0,c.s0)(),n=(0,s.useState)("Create"),j=(0,l.Z)(n,2),N=j[0],O=j[1],w=(0,s.useState)({id:"",name:"",value:0,status:!1,default:!1}),E=(0,l.Z)(w,2),S=E[0],P=E[1],Z=(0,s.useState)(!1),k=(0,l.Z)(Z,2),C=k[0],T=k[1],I=(0,s.useState)(!1),R=(0,l.Z)(I,2),D=R[0],V=R[1],F=(0,s.useState)({}),G=(0,l.Z)(F,2),U=G[0],A=G[1],L=(0,c.UO)(),q=(0,s.useRef)(!0),J=(0,h.C)((function(e){return[e.taxes.tax,e.taxes.isFetching,e.taxes.isError,e.taxes.taxes]}),b.wU),X=(0,l.Z)(J,4),_=X[0],B=X[1],M=X[2],K=X[3],z=(0,h.T)();(0,s.useEffect)((function(){if(q.current&&(q.current=!1,"edit"===L.mode)){O("Edit");var e=L.id;e&&z(y.b.getTaxById(e))}}),[L,z]),(0,s.useEffect)((function(){"edit"!==L.mode||S.id===(null===_||void 0===_?void 0:_.id)||B||M||P(_)}),[L,S,_,B,M]);var Y=(0,s.useCallback)((function(e){var t=!0;return 0===S.id.length?K.find((function(t){var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))&&(t=!1):K.find((function(t){var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())&&t.id!==S.id}))&&(t=!1),t}),[S.id,K]);(0,s.useEffect)((function(){if(C){for(var e=!0,t=0,n=Object.entries(S);t<n.length;t++){var r=(0,l.Z)(n[t],2),i=r[0],a=r[1];if("id"!==i)if("string"===typeof a){if(0===(null===a||void 0===a?void 0:a.trim().length)){e=!1;break}}else if("number"===typeof a&&(a||0)<0){e=!1;break}}V(e&&Y(S.name||""))}}),[C,S,Y]);var H=function(e){T(!0);var t=e.target,n=t.name,r=t.value;if(P((0,o.Z)((0,o.Z)({},S),{},(0,a.Z)({},n,r))),"name"===n){var i=Y(r);A((0,o.Z)((0,o.Z)({},U),{},(0,a.Z)({nameInvalid:!i},n,!r||0===r.toString().trim().length)))}else"status"!==n&&A((0,o.Z)((0,o.Z)({},U),{},(0,a.Z)({},n,!r||0===r.toString().trim().length)))},Q=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"Edit"!==N&&(S.id=(0,g.Z)()),z(y.b.updateTax(S)),setTimeout((function(){z(y.b.getTaxes())}),300),t(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(e);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h3",{className:"caption",children:["Tax: ",N]}),(0,x.jsx)("div",{className:"grid",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("span",{className:"field-required",children:"*"})," - Required field"]})}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)("div",{className:"grid",children:(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("h3",{children:"Tax"})})}),(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"TaxName",children:["Tax Name ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(m.o,{id:"TaxName",name:"name",maxLength:50,placeholder:"Tax",value:S.name,onChange:H}),(null===U||void 0===U?void 0:U.name)&&(0,x.jsx)(v.v,{severity:"error",text:"Tax Name is required."}),(null===U||void 0===U?void 0:U.nameInvalid)&&(0,x.jsx)(v.v,{severity:"error",text:"Tax Name already exists."})]}),(0,x.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"TaxValue",children:["Tax Value (%)",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsxs)("div",{className:"col",children:[(0,x.jsx)(f.R,{id:"TaxValue",name:"value",value:S.value,maxFractionDigits:4,placeholder:"4.5",onValueChange:function(e){return function(e){T(!0);var t=null===e.value?-1:e.value;P((0,o.Z)((0,o.Z)({},S),{},{value:t})),A((0,o.Z)((0,o.Z)({},U),{},{value:t<0}))}(e)}}),(null===U||void 0===U?void 0:U.value)&&(0,x.jsx)(v.v,{severity:"error",text:"Tax Value is required."})]})]})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("label",{htmlFor:"Status",children:["Status ",(0,x.jsx)("span",{className:"field-required",children:"*"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsx)("div",{className:"p-fixed-switch",children:(0,x.jsx)(p.Q,{id:"Status",name:"status",checked:S.status,value:"0",onChange:H})})}),(0,x.jsx)("div",{className:"col-fixed p-fixed hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col hidden-xs",children:"\xa0"}),(0,x.jsx)("div",{className:"col hidden-xs",children:(0,x.jsx)("div",{className:"p-fixed-switch",children:"\xa0"})})]})})]})]}),(0,x.jsxs)("div",{className:"grid",children:[(0,x.jsx)("div",{className:"col-12",children:"\xa0"}),(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)(u.z,{icon:"pi pi-check",className:"p-button-rounded p-button-outlined",tooltip:"Save",disabled:!D,onClick:Q}),"\xa0 \xa0",(0,x.jsx)(u.z,{icon:"pi pi-times",className:"p-button-rounded p-button-outlined",tooltip:"Back to List",onClick:W})]})]})]})}},5973:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(7313),i=n(5234),a=n(7371),o=n(1742),l=a.V.extend({defaultProps:{__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null,children:void 0}}),s=r.forwardRef((function(e,t){var n=r.useContext(o.Ou),a=l.getProps(e,n),s=r.useRef(t),c=l.setMetaData({props:a}).ptm;r.useEffect((function(){i.gb.combinedRefs(s,t)}),[s,t]);var u=(0,i.dG)({id:a.id,ref:s,style:a.style,className:(0,i.AK)("p-card p-component",a.className)},l.getOtherProps(a),c("root")),d=function(){var e=(0,i.dG)({className:"p-card-header"},c("header"));return a.header?r.createElement("div",e,i.gb.getJSXElement(a.header,a)):null}(),f=function(){var e=(0,i.dG)({className:"p-card-title"},c("title")),t=a.title&&r.createElement("div",e,i.gb.getJSXElement(a.title,a)),n=(0,i.dG)({className:"p-card-subtitle"},c("subTitle")),o=a.subTitle&&r.createElement("div",n,i.gb.getJSXElement(a.subTitle,a)),l=(0,i.dG)({className:"p-card-content"},c("content")),s=a.children&&r.createElement("div",l,a.children),u=(0,i.dG)({className:"p-card-footer"},c("footer")),d=a.footer&&r.createElement("div",u,i.gb.getJSXElement(a.footer,a)),f=(0,i.dG)({className:"p-card-body"},c("body"));return r.createElement("div",f,t,o,s,d)}();return r.createElement("div",u,d,f)}));s.displayName="Card"},5539:function(e,t,n){n.d(t,{Q:function(){return h}});var r=n(7313),i=n(8922),a=n(2328),o=n(5234),l=n(7371),s=n(1742);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function f(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,i=u}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=l.V.extend({defaultProps:{__TYPE:"InputSwitch",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0}});function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=r.memo(r.forwardRef((function(e,t){var n=r.useContext(s.Ou),l=v.getProps(e,n),u=m(r.useState(!1),2),d=u[0],p=u[1],h=v.setMetaData({props:l,state:{focused:d}}).ptm,y=r.useRef(null),g=r.useRef(l.inputRef),x=l.checked===l.trueValue,j=function(e){if(l.onChange){var t=x?l.falseValue:l.trueValue;l.onChange({originalEvent:e,value:t,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:l.name,id:l.id,value:t}})}};r.useImperativeHandle(t,(function(){return{props:l,focus:function(){return o.p7.focus(g.current)},getElement:function(){return y.current},getInput:function(){return g.current}}})),r.useEffect((function(){o.gb.combinedRefs(g,l.inputRef)}),[g,l.inputRef]),(0,i.nw)((function(){l.autoFocus&&o.p7.focus(g.current,l.autoFocus)}));var N=o.gb.isNotEmpty(l.tooltip),O=v.getOtherProps(l),w=o.gb.reduceKeys(O,o.p7.ARIA_PROPS),E=(0,o.AK)("p-inputswitch p-component",{"p-inputswitch-checked":x,"p-disabled":l.disabled,"p-focus":d},l.className),S=(0,o.dG)({id:l.id,ref:y,className:E,style:l.style,onClick:function(e){l.disabled||(j(e),o.p7.focus(g.current),e.preventDefault())},role:"checkbox","aria-checked":x},h("root")),P=(0,o.dG)({className:"p-hidden-accessible"},h("hiddenInputWrapper")),Z=(0,o.dG)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:g,type:"checkbox",id:l.inputId,name:l.name,checked:x,onChange:j,onFocus:function(e){p(!0),l.onFocus&&l.onFocus(e)},onBlur:function(e){p(!1),l.onBlur&&l.onBlur(e)},disabled:l.disabled,role:"switch",tabIndex:l.tabIndex,"aria-checked":x},w),h("hiddenInput")),k=(0,o.dG)({className:"p-inputswitch-slider"},h("slider"));return r.createElement(r.Fragment,null,r.createElement("div",S,r.createElement("div",P,r.createElement("input",Z)),r.createElement("span",k)),N&&r.createElement(a.u,c({target:y,content:l.tooltip},l.tooltipOptions,{pt:h("tooltip")})))})));h.displayName="InputSwitch"},364:function(e,t,n){n.d(t,{v:function(){return b}});var r=n(7313),i=n(5234),a=n(7371),o=n(4611),l=n(4229),s=n(886),c=n(3210),u=n(1742);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=a.V.extend({defaultProps:{__TYPE:"Message",id:null,className:null,style:null,text:null,icon:null,severity:"info",content:null,children:void 0}});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=r.memo(r.forwardRef((function(e,t){var n=r.useContext(u.Ou),a=m.getProps(e,n),d=r.useRef(null),f=m.setMetaData({props:a}).ptm;r.useImperativeHandle(t,(function(){return{props:a,getElement:function(){return d.current}}}));var b=(0,i.AK)("p-inline-message p-component",{"p-inline-message-info":"info"===a.severity,"p-inline-message-warn":"warn"===a.severity,"p-inline-message-error":"error"===a.severity,"p-inline-message-success":"success"===a.severity,"p-inline-message-icon-only":!a.text},a.className),h=function(){if(a.content)return i.gb.getJSXElement(a.content,a);var e=i.gb.getJSXElement(a.text,a),t=(0,i.dG)({className:"p-inline-message-icon"},f("icon")),n=a.icon;if(!n)switch(a.severity){case"info":n=r.createElement(l.u,t);break;case"warn":n=r.createElement(o.L,t);break;case"error":n=r.createElement(s.x,t);break;case"success":n=r.createElement(c.n,t)}var u=i.Cz.getJSXIcon(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),{props:a}),d=(0,i.dG)({className:"p-inline-message-text"},f("text"));return r.createElement(r.Fragment,null,u,r.createElement("span",d,e))}(),y=(0,i.dG)({id:a.id,ref:d,className:b,style:a.style,role:"alert","aria-live":"polite"},m.getOtherProps(a),f("root"));return r.createElement("div",y,h)})));b.displayName="Message"},2549:function(e,t,n){n.d(t,{Z:function(){return u}});var r,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},a=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}for(var l=[],s=0;s<256;++s)l.push((s+256).toString(16).slice(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}var u=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return c(r)}}}]);