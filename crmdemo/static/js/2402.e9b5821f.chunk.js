"use strict";(self.webpackChunkcrmdemo1=self.webpackChunkcrmdemo1||[]).push([[2402],{2402:function(e,s,t){t.r(s);var n=t(4165),r=t(5861),i=t(9439),l=t(2791),a=t(7689),o=t(919),c=t(1063),d=t(5134),u=t(9856),p=t(5103),m=t(8047),f=t(5048),h=t(9777),x=t(8457),j=t(184);s.default=function(){var e={id:""},s=(0,l.useState)([e]),t=(0,i.Z)(s,2),b=t[0],N=t[1],g=(0,l.useState)(e),S=(0,i.Z)(g,2),v=S[0],C=S[1],k=(0,l.useState)(""),w=(0,i.Z)(k,2),y=w[0],z=w[1],O=(0,l.useState)(!1),Z=(0,i.Z)(O,2),F=Z[0],T=Z[1],A=(0,a.s0)(),W=(0,l.useRef)(null),E=(0,l.useRef)(null),I=(0,h.C)((function(e){return e.salesOrders.salesOrders}),f.wU),P=(0,h.T)();(0,l.useEffect)((function(){P(x.lW.getSalesOrders())}),[P]);var R=function(){T(!1)},U=function(){var s=(0,r.Z)((0,n.Z)().mark((function s(){return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:P(x.lW.deleteSalesOrder(v.id)),R(),C(e),E.current.show({severity:"success",summary:"Successful",detail:"Item has been deleted",life:3e3}),setTimeout((function(){P(x.lW.getSalesOrders())}),300);case 5:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),V=(0,j.jsx)("div",{className:"table-header",children:(0,j.jsxs)("span",{className:"p-input-icon-left",children:[(0,j.jsx)("i",{className:"pi pi-search"}),(0,j.jsx)(p.o,{type:"search",onInput:function(e){W.current.reset(),z(e.target.value)},placeholder:"Search..."})]})}),D=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.z,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:R}),(0,j.jsx)(o.z,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:U})]});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.F,{ref:E}),(0,j.jsxs)("div",{className:"grid pt-2",children:[(0,j.jsx)("div",{className:"col text-left",children:(0,j.jsx)("h3",{className:"caption",children:"Sales Orders"})}),(0,j.jsxs)("div",{className:"col text-right",children:[(0,j.jsx)(o.z,{icon:"pi pi-plus",className:"p-button-rounded p-button-outlined",tooltip:"Add Sales Order",onClick:function(){A("/salesorder/add")}}),"\xa0",(0,j.jsx)(o.z,{icon:"pi pi-external-link",className:"p-button-rounded p-button-outlined",tooltip:"Export Sales Orders",onClick:function(){W.current.exportCSV()}})]})]}),(0,j.jsxs)(d.w,{ref:W,dataKey:"id",value:I,paginator:!0,rows:10,rowsPerPageOptions:[10,25,50,100],selectionMode:"single",selection:b,onSelectionChange:function(e){return N(e.value)},resizableColumns:!0,globalFilter:y,header:V,showGridlines:!0,children:[(0,j.jsx)(c.s,{field:"subject",header:"Subject",sortable:!0}),(0,j.jsx)(c.s,{field:"accountName",header:"Account Name",sortable:!0}),(0,j.jsx)(c.s,{field:"customerNo",header:"Customer No",sortable:!0}),(0,j.jsx)(c.s,{field:"total",header:"Total",sortable:!0}),(0,j.jsx)(c.s,{field:"assignedUserLastName",header:"Assigned To",sortable:!0}),(0,j.jsx)(c.s,{body:function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.z,{icon:"pi pi-pencil",className:"p-button-rounded p-button-outlined mr-2",tooltip:"Edit",onClick:function(){return function(e){A("/salesorder/edit/".concat(e.id))}(e)}}),(0,j.jsx)(o.z,{icon:"pi pi-trash",className:"p-button-rounded p-button-outlined",tooltip:"Delete",onClick:function(){return function(e){C(e),T(!0)}(e)}})]})},exportable:!1,style:{minWidth:"8rem"}})]}),(0,j.jsx)("p",{children:"* Table columns are sortable and resizable."}),(0,j.jsx)(u.V,{visible:F,style:{width:"450px"},header:"Confirm",modal:!0,footer:D,onHide:R,children:(0,j.jsxs)("div",{className:"confirmation-content",children:[(0,j.jsx)("i",{className:"pi pi-exclamation-triangle mr-3",style:{fontSize:"2rem"}}),(0,j.jsx)("strong",{children:"Are you sure you want to delete this item?"})]})})]})}}}]);
//# sourceMappingURL=2402.e9b5821f.chunk.js.map